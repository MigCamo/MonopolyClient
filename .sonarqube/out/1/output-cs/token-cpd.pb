†%
?D:\Proyectos .NET\UIGameClientTourist\GameLogic\MusicService.cs
	namespace 	
UIGameClientTourist
 
. 
	GameLogic '
{ 
public 

class 
MusicService 
{ 
private 
static 
MusicService #
	_instance$ -
;- .
private 
readonly 
WaveOutEvent %
_waveOut& .
;. /
private 
readonly 
AudioFileReader (
_audioFileReader) 9
;9 :
private 
MusicService 
( 
) 
{ 	
_waveOut 
= 
new 
WaveOutEvent '
(' (
)( )
;) *
string 
projectDirectory #
=$ %
	Directory& /
./ 0
	GetParent0 9
(9 :
Environment: E
.E F
CurrentDirectoryF V
)V W
.W X
ParentX ^
.^ _
FullName_ g
;g h
string 
filePath 
= 
Path "
." #
Combine# *
(* +
projectDirectory+ ;
,; <
$str= L
,L M
$strN U
,U V
$str	W ®
)
® ©
;
© ™
_audioFileReader 
= 
new "
AudioFileReader# 2
(2 3
filePath3 ;
); <
;< =
_waveOut 
. 
Init 
( 
_audioFileReader *
)* +
;+ ,
} 	
public 
static 
MusicService "
Instance# +
{ 	
get 
{ 
if   
(   
	_instance   
==    
null  ! %
)  % &
{!! 
	_instance"" 
="" 
new""  #
MusicService""$ 0
(""0 1
)""1 2
;""2 3
}## 
return$$ 
	_instance$$  
;$$  !
}%% 
}&& 	
public(( 
void(( 
	PlayMusic(( 
((( 
)(( 
{)) 	
if** 
(** 
_waveOut** 
.** 
PlaybackState** &
==**' )
PlaybackState*** 7
.**7 8
Stopped**8 ?
)**? @
{++ 
_audioFileReader,,  
.,,  !
Position,,! )
=,,* +
$num,,, -
;,,- .
_waveOut-- 
.-- 
Play-- 
(-- 
)-- 
;--  
}.. 
else// 
if// 
(// 
_waveOut// 
.// 
PlaybackState// +
==//, .
PlaybackState/// <
.//< =
Paused//= C
)//C D
{00 
_waveOut11 
.11 
Play11 
(11 
)11 
;11  
}22 
}33 	
public55 
void55 

PauseMusic55 
(55 
)55  
{66 	
if77 
(77 
_waveOut77 
.77 
PlaybackState77 &
==77' )
PlaybackState77* 7
.777 8
Playing778 ?
)77? @
{88 
_waveOut99 
.99 
Pause99 
(99 
)99  
;99  !
}:: 
};; 	
public== 
void== 
	StopMusic== 
(== 
)== 
{>> 	
if?? 
(?? 
_waveOut?? 
.?? 
PlaybackState?? &
!=??' )
PlaybackState??* 7
.??7 8
Stopped??8 ?
)??? @
{@@ 
_waveOutAA 
.AA 
StopAA 
(AA 
)AA 
;AA  
_audioFileReaderBB  
.BB  !
PositionBB! )
=BB* +
$numBB, -
;BB- .
}CC 
}DD 	
publicFF 
voidFF 
	SetVolumeFF 
(FF 
doubleFF $
volumeFF% +
)FF+ ,
{GG 	
ifHH 
(HH 
volumeHH 
<HH 
$numHH 
)HH 
volumeII 
=II 
$numII 
;II 
elseJJ 
ifJJ 
(JJ 
volumeJJ 
>JJ 
$numJJ 
)JJ  
volumeKK 
=KK 
$numKK 
;KK 
_waveOutLL 
.LL 
VolumeLL 
=LL 
(LL 
floatLL $
)LL$ %
volumeLL% +
;LL+ ,
}MM 	
}NN 
}OO †(
ED:\Proyectos .NET\UIGameClientTourist\XAMLViews\Configuration.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
Configuration &
:' (
Window) /
{ 
private 
int 
idPlayer 
; 
public 
Configuration 
( 
int  
idPlayer! )
)) *
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
idPlayer 
= 
idPlayer $
;$ %
fullcomboBox 
( 
) 
; 
} 	
private!! 
void!! 
fullcomboBox!! !
(!!! "
)!!" #
{"" 	
cboxLanguages## 
.## 
Items## 
.##  
Add##  #
(### $

Properties##$ .
.##. /
	Resources##/ 8
.##8 9!
LanguageSpanish_Label##9 N
)##N O
;##O P
cboxLanguages$$ 
.$$ 
Items$$ 
.$$  
Add$$  #
($$# $

Properties$$$ .
.$$. /
	Resources$$/ 8
.$$8 9!
LanguageEnglish_Label$$9 N
)$$N O
;$$O P
}%% 	
private'' 
void'' 
ChangeLanguage'' #
(''# $
object''$ *
sender''+ 1
,''1 2%
SelectionChangedEventArgs''3 L
e''M N
)''N O
{(( 	
if)) 
()) 
cboxLanguages)) 
.)) 
SelectedItem)) *
!=))+ -
null)). 2
)))2 3
{** 
string++ 
selectedLanguage++ '
=++( )
cboxLanguages++* 7
.++7 8
SelectedItem++8 D
.++D E
ToString++E M
(++M N
)++N O
;++O P
if-- 
(-- 
selectedLanguage-- $
==--% '

Properties--( 2
.--2 3
	Resources--3 <
.--< =!
LanguageSpanish_Label--= R
)--R S
{.. 
App// 
.// 
SetAppCulture// %
(//% &
$str//& -
)//- .
;//. /
}00 
else11 
if11 
(11 
selectedLanguage11 )
==11* ,

Properties11- 7
.117 8
	Resources118 A
.11A B!
LanguageEnglish_Label11B W
)11W X
{22 
App33 
.33 
SetAppCulture33 %
(33% &
$str33& -
)33- .
;33. /
}44 
Configuration66 
configurationWindow66 1
=662 3
new664 7
Configuration668 E
(66E F
idPlayer66F N
)66N O
;66O P
this77 
.77 
Close77 
(77 
)77 
;77 
configurationWindow88 #
.88# $
Show88$ (
(88( )
)88) *
;88* +
}99 
}:: 	
private<< 
void<< "
NavigateToMainMenuGame<< +
(<<+ ,
object<<, 2
sender<<3 9
,<<9 :
RoutedEventArgs<<; J
e<<K L
)<<L M
{== 	
MainMenuGame>> 

menuWindow>> #
=>>$ %
new>>& )
MainMenuGame>>* 6
(>>6 7
idPlayer>>7 ?
)>>? @
;>>@ A
this?? 
.?? 
Close?? 
(?? 
)?? 
;?? 

menuWindow@@ 
.@@ 
Show@@ 
(@@ 
)@@ 
;@@ 
}AA 	
privateCC 
voidCC $
VolumeSliderValueChangedCC -
(CC- .
objectCC. 4
senderCC5 ;
,CC; <*
RoutedPropertyChangedEventArgsCC= [
<CC[ \
doubleCC\ b
>CCb c
eCCd e
)CCe f
{DD 	
doubleEE 
volumeValueEE 
=EE  
volumeSliderEE! -
.EE- .
ValueEE. 3
;EE3 4
MusicServiceFF 
.FF 
InstanceFF !
.FF! "
	SetVolumeFF" +
(FF+ ,
volumeValueFF, 7
)FF7 8
;FF8 9
}GG 	
privateII 
voidII 
ButPlayMusicII !
(II! "
objectII" (
senderII) /
,II/ 0
RoutedEventArgsII1 @
eIIA B
)IIB C
{JJ 	
MusicServiceKK 
.KK 
InstanceKK !
.KK! "
	PlayMusicKK" +
(KK+ ,
)KK, -
;KK- .
}LL 	
privateNN 
voidNN 
ButPauseMusicNN "
(NN" #
objectNN# )
senderNN* 0
,NN0 1
RoutedEventArgsNN2 A
eNNB C
)NNC D
{OO 	
MusicServicePP 
.PP 
InstancePP !
.PP! "
	StopMusicPP" +
(PP+ ,
)PP, -
;PP- .
}RR 	
}SS 
}TT «j
?D:\Proyectos .NET\UIGameClientTourist\XAMLViews\Friends.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
Friends  
:! "
Window# )
,) *
Service+ 2
.2 3
IFriendsCallback3 C
{ 
private 
readonly 
int 
idPlayer %
;% &
private 
readonly 
Service  
.  !
FriendListClient! 1
friendListService2 C
;C D
Service 
. 
FriendsClient 
SesionService +
;+ ,
public 
Friends 
( 
int 
idPlayer #
)# $
{ 	
InstanceContext 
context #
=$ %
new& )
InstanceContext* 9
(9 :
this: >
)> ?
;? @
SesionService   
=   
new   
Service    '
.  ' (
FriendsClient  ( 5
(  5 6
context  6 =
)  = >
;  > ?
friendListService!! 
=!! 
new!!  #
Service!!$ +
.!!+ ,
FriendListClient!!, <
(!!< =
)!!= >
;!!> ?
SesionService"" 
."" 
UpdatePlayerSession"" -
(""- .
idPlayer"". 6
)""6 7
;""7 8
this## 
.## 
idPlayer## 
=## 
idPlayer## $
;##$ %
InitializeComponent$$ 
($$  
)$$  !
;$$! "
ShowFriends%% 
(%% 
idPlayer%%  
)%%  !
;%%! "

AddRequest&& 
(&& 
idPlayer&& 
)&&  
;&&  !
}'' 	
private)) 
void)) 
ShowFriends))  
())  !
int))! $
idPlayer))% -
)))- .
{** 	
FriendListDisplay++ 
.++ 
Children++ &
.++& '
Clear++' ,
(++, -
)++- .
;++. /
foreach,, 
(,, 

FriendList,, 
friend,,  &
in,,' )
friendListService,,* ;
.,,; <

GetFriends,,< F
(,,F G
idPlayer,,G O
),,O P
),,P Q
{-- 
Border.. 
brdBackground.. $
=..% &
new..' *
Border..+ 1
{// 
Width00 
=00 
$num00 
,00  
Height11 
=11 
$num11 
,11  

Background22 
=22  
Brushes22! (
.22( )
	LightBlue22) 2
,222 3
Margin33 
=33 
new33  
	Thickness33! *
(33* +
$num33+ ,
)33, -
,33- .
}44 
;44 
Grid66 
grid66 
=66 
new66 
Grid66  $
(66$ %
)66% &
;66& '
Ellipse88 
ellUserStatus88 %
=88& '
new88( +
Ellipse88, 3
{99 
Width:: 
=:: 
$num:: 
,:: 
Height;; 
=;; 
$num;; 
,;;  
Margin<< 
=<< 
new<<  
	Thickness<<! *
(<<* +
-<<+ ,
$num<<, /
,<</ 0
$num<<1 2
,<<2 3
$num<<4 5
,<<5 6
$num<<7 8
)<<8 9
,<<9 :
}== 
;== 
if?? 
(?? 
friend?? 
.?? 
IsOnline?? #
)??# $
{@@ 
ellUserStatusAA !
.AA! "
FillAA" &
=AA' (
BrushesAA) 0
.AA0 1
GreenAA1 6
;AA6 7
}BB 
elseCC 
{DD 
ellUserStatusEE !
.EE! "
FillEE" &
=EE' (
BrushesEE) 0
.EE0 1
RedEE1 4
;EE4 5
}FF 
LabelHH 
lblUserNameHH !
=HH" #
newHH$ '
LabelHH( -
{II 
ContentJJ 
=JJ 
friendJJ $
.JJ$ %

FriendNameJJ% /
,JJ/ 0
FontSizeKK 
=KK 
$numKK !
,KK! "
MarginLL 
=LL 
newLL  
	ThicknessLL! *
(LL* +
$numLL+ -
,LL- .
$numLL/ 0
,LL0 1
$numLL2 3
,LL3 4
$numLL5 6
)LL6 7
,LL7 8
}MM 
;MM 
gridOO 
.OO 
ChildrenOO 
.OO 
AddOO !
(OO! "
ellUserStatusOO" /
)OO/ 0
;OO0 1
gridPP 
.PP 
ChildrenPP 
.PP 
AddPP !
(PP! "
lblUserNamePP" -
)PP- .
;PP. /
brdBackgroundQQ 
.QQ 
ChildQQ #
=QQ$ %
gridQQ& *
;QQ* +
FriendListDisplayRR !
.RR! "
ChildrenRR" *
.RR* +
AddRR+ .
(RR. /
brdBackgroundRR/ <
)RR< =
;RR= >
}SS 
}UU 	
privateWW 
voidWW 
SendFriendRequestWW &
(WW& '
objectWW' -
senderWW. 4
,WW4 5
RoutedEventArgsWW6 E
eWWF G
)WWG H
{XX 	
switchYY 
(YY 
SesionServiceYY !
.YY! "
MakeFriendRequestYY" 3
(YY3 4
idPlayerYY4 <
,YY< =
	TxtFriendYY> G
.YYG H
TextYYH L
)YYL M
)YYM N
{ZZ 
case[[ 
$num[[ 
:[[ 

MessageBox\\ 
.\\ 
Show\\ #
(\\# $

Properties\\$ .
.\\. /
	Resources\\/ 8
.\\8 94
(AlertConfirmationSendFriendRequest_Label\\9 a
)\\a b
;\\b c
break]] 
;]] 
case^^ 
$num^^ 
:^^ 

MessageBox__ 
.__ 
Show__ #
(__# $

Properties__$ .
.__. /
	Resources__/ 8
.__8 9+
AlreadyExistingAmigoAlert_Label__9 X
)__X Y
;__Y Z
break`` 
;`` 
caseaa 
$numaa 
:aa 

MessageBoxbb 
.bb 
Showbb #
(bb# $

Propertiesbb$ .
.bb. /
	Resourcesbb/ 8
.bb8 9#
AlertExistingUser_Labelbb9 P
)bbP Q
;bbQ R
breakcc 
;cc 
casedd 
$numdd 
:dd 

MessageBoxee 
.ee 
Showee #
(ee# $

Propertiesee$ .
.ee. /
	Resourcesee/ 8
.ee8 9&
AlertExistingRequest_Labelee9 S
)eeS T
;eeT U
breakff 
;ff 
}gg 
}hh 	
privatejj 
voidjj 

AddRequestjj 
(jj  
intjj  #
IdPlayerjj$ ,
)jj, -
{kk 	
RequestListll 
.ll 
Childrenll  
.ll  !
Clearll! &
(ll& '
)ll' (
;ll( )
foreachmm 
(mm 
varmm 
requestmm  
inmm! #
friendListServicemm$ 5
.mm5 6
GetFriendRequestsmm6 G
(mmG H
IdPlayermmH P
)mmP Q
)mmQ R
{nn 
Borderoo 
brdBackgroundoo $
=oo% &
newoo' *
Borderoo+ 1
{pp 
Widthqq 
=qq 
$numqq 
,qq  
Heightrr 
=rr 
$numrr 
,rr  

Backgroundss 
=ss  
Brushesss! (
.ss( )
	LightBluess) 2
,ss2 3
Margintt 
=tt 
newtt  
	Thicknesstt! *
(tt* +
$numtt+ ,
)tt, -
,tt- .
}uu 
;uu 
Gridww 
gridww 
=ww 
newww 
Gridww  $
(ww$ %
)ww% &
;ww& '
Labelyy 
lblUserNameyy !
=yy" #
newyy$ '
Labelyy( -
{zz 
Content{{ 
={{ 
request{{ %
.{{% &

SenderName{{& 0
,{{0 1
FontSize|| 
=|| 
$num|| !
,||! "
Margin}} 
=}} 
new}}  
	Thickness}}! *
(}}* +
$num}}+ -
,}}- .
$num}}/ 0
,}}0 1
$num}}2 3
,}}3 4
$num}}5 6
)}}6 7
,}}7 8
}~~ 
;~~ 
Button
ÄÄ 
	butAccept
ÄÄ  
=
ÄÄ! "
new
ÄÄ# &
Button
ÄÄ' -
{
ÅÅ 
Content
ÇÇ 
=
ÇÇ 

Properties
ÇÇ (
.
ÇÇ( )
	Resources
ÇÇ) 2
.
ÇÇ2 3#
AcceptPurchase_Button
ÇÇ3 H
,
ÇÇH I
Width
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
,
ÉÉ 
Height
ÑÑ 
=
ÑÑ 
$num
ÑÑ 
,
ÑÑ  
Margin
ÖÖ 
=
ÖÖ 
new
ÖÖ  
	Thickness
ÖÖ! *
(
ÖÖ* +
$num
ÖÖ+ .
,
ÖÖ. /
$num
ÖÖ0 2
,
ÖÖ2 3
$num
ÖÖ4 5
,
ÖÖ5 6
$num
ÖÖ7 8
)
ÖÖ8 9
,
ÖÖ9 :
}
ÜÜ 
;
ÜÜ 
Button
àà 
	butReject
àà  
=
àà! "
new
àà# &
Button
àà' -
{
ââ 
Content
ää 
=
ää 

Properties
ää (
.
ää( )
	Resources
ää) 2
.
ää2 3
Reject_Button
ää3 @
,
ää@ A
Width
ãã 
=
ãã 
$num
ãã 
,
ãã 
Height
åå 
=
åå 
$num
åå 
,
åå  
Margin
çç 
=
çç 
new
çç  
	Thickness
çç! *
(
çç* +
$num
çç+ .
,
çç. /
$num
çç0 2
,
çç2 3
$num
çç4 5
,
çç5 6
$num
çç7 8
)
çç8 9
,
çç9 :
}
éé 
;
éé 
	butAccept
êê 
.
êê 
Click
êê 
+=
êê  "
(
êê# $
sender
êê$ *
,
êê* +
e
êê, -
)
êê- .
=>
êê/ 1
{
êê2 3
SesionService
ëë !
.
ëë! "!
AcceptFriendRequest
ëë" 5
(
ëë5 6
request
ëë6 =
.
ëë= >
	IDRequest
ëë> G
)
ëëG H
;
ëëH I

AddRequest
íí 
(
íí 
IdPlayer
íí '
)
íí' (
;
íí( )
ShowFriends
ìì 
(
ìì  
IdPlayer
ìì  (
)
ìì( )
;
ìì) *
}
îî 
;
îî 
	butReject
ññ 
.
ññ 
Click
ññ 
+=
ññ  "
(
ññ# $
sender
ññ$ *
,
ññ* +
e
ññ, -
)
ññ- .
=>
ññ/ 1
{
ññ2 3
SesionService
óó !
.
óó! "!
RejectFriendRequest
óó" 5
(
óó5 6
request
óó6 =
.
óó= >
	IDRequest
óó> G
)
óóG H
;
óóH I

AddRequest
òò 
(
òò 
IdPlayer
òò '
)
òò' (
;
òò( )
ShowFriends
ôô 
(
ôô  
IdPlayer
ôô  (
)
ôô( )
;
ôô) *
}
öö 
;
öö 
grid
úú 
.
úú 
Children
úú 
.
úú 
Add
úú !
(
úú! "
lblUserName
úú" -
)
úú- .
;
úú. /
grid
ùù 
.
ùù 
Children
ùù 
.
ùù 
Add
ùù !
(
ùù! "
	butAccept
ùù" +
)
ùù+ ,
;
ùù, -
grid
ûû 
.
ûû 
Children
ûû 
.
ûû 
Add
ûû !
(
ûû! "
	butReject
ûû" +
)
ûû+ ,
;
ûû, -
brdBackground
üü 
.
üü 
Child
üü #
=
üü$ %
grid
üü& *
;
üü* +
RequestList
†† 
.
†† 
Children
†† $
.
††$ %
Add
††% (
(
††( )
brdBackground
††) 6
)
††6 7
;
††7 8
}
°° 
}
¢¢ 	
private
§§ 
void
§§ "
GoMainMenuGameWindow
§§ )
(
§§) *
object
§§* 0
sender
§§1 7
,
§§7 8
RoutedEventArgs
§§9 H
e
§§I J
)
§§J K
{
•• 	
MainMenuGame
¶¶ 

menuWindow
¶¶ #
=
¶¶$ %
new
¶¶& )
MainMenuGame
¶¶* 6
(
¶¶6 7
idPlayer
¶¶7 ?
)
¶¶? @
;
¶¶@ A
this
ßß 
.
ßß 
Close
ßß 
(
ßß 
)
ßß 
;
ßß 

menuWindow
®® 
.
®® 
Show
®® 
(
®® 
)
®® 
;
®® 
}
©© 	
public
´´ 
void
´´ !
UpdateFriendRequest
´´ '
(
´´' (
)
´´( )
{
¨¨ 	

AddRequest
≠≠ 
(
≠≠ 
idPlayer
≠≠ 
)
≠≠  
;
≠≠  !
}
ÆÆ 	
public
∞∞ 
void
∞∞ !
UpdateFriendDisplay
∞∞ '
(
∞∞' (
)
∞∞( )
{
±± 	
ShowFriends
≤≤ 
(
≤≤ 
idPlayer
≤≤  
)
≤≤  !
;
≤≤! "
}
≥≥ 	
}
¥¥ 
}µµ ©ô
<D:\Proyectos .NET\UIGameClientTourist\XAMLViews\Game.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
Game 
: 
Window  &
,& '%
IGameLogicManagerCallback( A
{ 
private 
Service 
. 
Player 
player %
;% &
private 
Service 
. 
Game 
game !
;! "
private 
Service 
. "
GameLogicManagerClient .
managerClient/ <
;< =
readonly 
public 
static 
WinImage '
[' (
]( )
pieces* 0
=1 2
new3 6
WinImage7 ?
[? @
$num@ A
]A B
;B C
private   
List   
<   
Service   
.   
Property   %
>  % &
Myproperties  ' 3
;  3 4
private!! 
Bid!! 
LastBid!! 
=!! 
new!! !
Bid!!" %
(!!% &
)!!& '
;!!' (
public## 
Game## 
(## 
Service## 
.## 
Game##  
game##! %
,##% &
Service##' .
.##. /
Player##/ 5
player##6 <
)##< =
{$$ 	
InstanceContext%% 
context%% #
=%%$ %
new%%& )
InstanceContext%%* 9
(%%9 :
this%%: >
)%%> ?
;%%? @
managerClient&& 
=&& 
new&& 
Service&&  '
.&&' ("
GameLogicManagerClient&&( >
(&&> ?
context&&? F
)&&F G
;&&G H
managerClient'' 
.'' 
UpdatePlayerService'' -
(''- .
player''. 4
.''4 5
IdPlayer''5 =
,''= >
game''? C
.''C D
IdGame''D J
)''J K
;''K L
this(( 
.(( 
player(( 
=(( 
player((  
;((  !
this)) 
.)) 
game)) 
=)) 
game)) 
;)) 
InitializeComponent** 
(**  
)**  !
;**! "
InitializeUsers++ 
(++ 
)++ 
;++ !
InitializeBoardPieces,, !
(,,! "
),," #
;,,# $ 
InitializeComboBoxes--  
(--  !
)--! "
;--" #
}.. 	
private00 
void00 
InitializeUsers00 $
(00$ %
)00% &
{11 	
imgPlayerPiece22 
.22 
Source22 !
=22" #
ImageManager22$ 0
.220 1
GetSourceImage221 ?
(22? @
player22@ F
.22F G
Token22G L
.22L M
ImagenSource22M Y
)22Y Z
;22Z [
lblPlayerTurn33 
.33 
Content33 !
=33" #
game33$ (
.33( )
Players33) 0
.330 1
Peek331 5
(335 6
)336 7
.337 8
Name338 <
;33< =
lblPlayerTurn44 
.44 &
HorizontalContentAlignment44 4
=445 6
HorizontalAlignment447 J
.44J K
Center44K Q
;44Q R
lblPlayerTurn55 
.55 $
VerticalContentAlignment55 2
=553 4
VerticalAlignment555 F
.55F G
Center55G M
;55M N
Service66 
.66 
PlayerClient66  
playerClient66! -
=66. /
new660 3
Service664 ;
.66; <
PlayerClient66< H
(66H I
)66I J
;66J K
lblUserName77 
.77 
Content77 
=77  !
playerClient77" .
.77. /
GetMyPlayersName77/ ?
(77? @
player77@ F
.77F G
IdPlayer77G O
,77O P
game77Q U
.77U V
IdGame77V \
)77\ ]
;77] ^
lblPlayerMoney88 
.88 
Content88 "
=88# $
$"88% '
$str88' *
{88* +
player88+ 1
.881 2
Money882 7
}887 8
$str888 <
"88< =
;88= >
Myproperties99 
=99 
new99 
List99 #
<99# $
Service99$ +
.99+ ,
Property99, 4
>994 5
(995 6
)996 7
;997 8
}:: 	
private<< 
void<<  
InitializeComboBoxes<< )
(<<) *
)<<* +
{== 	
cboNumerHouse>> 
.>> 
Items>> 
.>>  
Add>>  #
(>># $
$num>>$ %
)>>% &
;>>& '
cboNumerHouse?? 
.?? 
Items?? 
.??  
Add??  #
(??# $
$num??$ %
)??% &
;??& '
cboNumerHouse@@ 
.@@ 
Items@@ 
.@@  
Add@@  #
(@@# $
$num@@$ %
)@@% &
;@@& '
cboNumerHouseAA 
.AA 
ItemsAA 
.AA  
AddAA  #
(AA# $
$numAA$ %
)AA% &
;AA& '
cboHotelBB 
.BB 
ItemsBB 
.BB 
AddBB 
(BB 
$strBB #
)BB# $
;BB$ %
cboHotelCC 
.CC 
ItemsCC 
.CC 
AddCC 
(CC 
$strCC #
)CC# $
;CC$ %
}DD 	
privateFF 
voidFF !
InitializeBoardPiecesFF *
(FF* +
)FF+ ,
{GG 	
piecesHH 
[HH 
$numHH 
]HH 
=HH 
	imgPiece1HH !
;HH! "
piecesII 
[II 
$numII 
]II 
=II 
	imgPiece2II !
;II! "
piecesJJ 
[JJ 
$numJJ 
]JJ 
=JJ 
	imgPiece3JJ !
;JJ! "
piecesKK 
[KK 
$numKK 
]KK 
=KK 
	imgPiece4KK !
;KK! "
}LL 	
privateNN 
voidNN 
	PauseGameNN 
(NN 
objectNN %
senderNN& ,
,NN, -
KeyEventArgsNN. :
eNN; <
)NN< =
{OO 	
ifPP 
(PP 
ePP 
.PP 
KeyPP 
==PP 
KeyPP 
.PP 
EscapePP #
)PP# $
{QQ 
grdPauseMenuRR 
.RR 

VisibilityRR '
=RR( )

VisibilityRR* 4
.RR4 5
VisibleRR5 <
;RR< =
butRollingDiceSS 
.SS 
	IsEnabledSS (
=SS) *
falseSS+ 0
;SS0 1
eTT 
.TT 
HandledTT 
=TT 
trueTT  
;TT  !
}UU 
}VV 	
privateXX 
voidXX 
RestartGameXX  
(XX  !
objectXX! '
senderXX( .
,XX. /
RoutedEventArgsXX0 ?
eXX@ A
)XXA B
{YY 	
grdPauseMenuZZ 
.ZZ 

VisibilityZZ #
=ZZ$ %

VisibilityZZ& 0
.ZZ0 1
	CollapsedZZ1 :
;ZZ: ;
butRollingDice[[ 
.[[ 
	IsEnabled[[ $
=[[% &
true[[' +
;[[+ ,
}\\ 	
private^^ 
void^^ 
GoToMenuFromGame^^ %
(^^% &
object^^& ,
sender^^- 3
,^^3 4
RoutedEventArgs^^5 D
e^^E F
)^^F G
{__ 	
MainMenuGame`` 
mainMenuGameWindow`` +
=``, -
new``. 1
MainMenuGame``2 >
(``> ?
player``? E
.``E F
IdPlayer``F N
)``N O
;``O P
thisaa 
.aa 
Closeaa 
(aa 
)aa 
;aa 
mainMenuGameWindowbb 
.bb 
Showbb #
(bb# $
)bb$ %
;bb% &
}cc 	
privateee 
voidee $
AnimationMovePlayerCardXee -
(ee- .
WinImageee. 6
pieceee7 <
,ee< =
intee> A
updateXPositioneeB Q
)eeQ R
{ff 	
DoubleAnimationgg 
animationMoveOverXgg .
=gg/ 0
newgg1 4
DoubleAnimationgg5 D
{hh 
Toii 
=ii 
updateXPositionii $
}jj 
;jj 
piecekk 
.kk 
BeginAnimationkk  
(kk  !
Canvaskk! '
.kk' (
LeftPropertykk( 4
,kk4 5
animationMoveOverXkk6 H
)kkH I
;kkI J
}ll 	
privatenn 
voidnn $
AnimationMovePlayerCardYnn -
(nn- .
WinImagenn. 6
piecenn7 <
,nn< =
intnn> A
updateYPositionnnB Q
)nnQ R
{oo 	
DoubleAnimationpp 
animationMoveOverYpp .
=pp/ 0
newpp1 4
DoubleAnimationpp5 D
{qq 
Torr 
=rr 
updateYPositionrr $
}ss 
;ss 
piecett 
.tt 
BeginAnimationtt  
(tt  !
Canvastt! '
.tt' (
TopPropertytt( 3
,tt3 4
animationMoveOverYtt5 G
)ttG H
;ttH I
}uu 	
privateww 
voidww 

PlayMyTurnww 
(ww  
objectww  &
senderww' -
,ww- .
RoutedEventArgsww/ >
eww? @
)ww@ A
{xx 	
managerClientyy 
.yy 
PlayTurnyy "
(yy" #
thisyy# '
.yy' (
gameyy( ,
)yy, -
;yy- .
butRollingDicezz 
.zz 

Visibilityzz %
=zz& '

Visibilityzz( 2
.zz2 3
	Collapsedzz3 <
;zz< =

ButEndTurn{{ 
.{{ 

Visibility{{ !
={{" #

Visibility{{$ .
.{{. /
Visible{{/ 6
;{{6 7
}|| 	
private}} 
void}} 
AccommodatePart}} $
(}}$ %
WinImage}}% -
piece}}. 3
,}}3 4
Service}}5 <
.}}< =
Player}}= C
player}}D J
,}}J K
Service}}L S
.}}S T
Property}}T \
property}}] e
)}}e f
{~~ 	
int 
initialXPiece 
= 
$num  "
;" #
int
ÄÄ 
initialYPiece
ÄÄ 
=
ÄÄ 
$num
ÄÄ  "
;
ÄÄ" #
int
ÅÅ  
PiecesInSameSquare
ÅÅ "
=
ÅÅ# $%
CheckPieceCountInSquare
ÅÅ% <
(
ÅÅ< =
player
ÅÅ= C
)
ÅÅC D
;
ÅÅD E
if
ÉÉ 
(
ÉÉ  
PiecesInSameSquare
ÉÉ "
==
ÉÉ# %
$num
ÉÉ& '
)
ÉÉ' (
{
ÑÑ &
AnimationMovePlayerCardX
ÖÖ (
(
ÖÖ( )
piece
ÖÖ) .
,
ÖÖ. /
initialXPiece
ÖÖ0 =
+
ÖÖ> ?
property
ÖÖ@ H
.
ÖÖH I
PosicitionX
ÖÖI T
)
ÖÖT U
;
ÖÖU V
}
ÜÜ 
if
áá 
(
áá  
PiecesInSameSquare
áá "
==
áá# %
$num
áá& '
)
áá' (
{
àà &
AnimationMovePlayerCardY
ââ (
(
ââ( )
piece
ââ) .
,
ââ. /
initialYPiece
ââ0 =
+
ââ> ?
property
ââ@ H
.
ââH I
PosicitionY
ââI T
)
ââT U
;
ââU V
}
ää 
if
ãã 
(
ãã  
PiecesInSameSquare
ãã "
==
ãã# %
$num
ãã& '
)
ãã' (
{
åå &
AnimationMovePlayerCardY
çç (
(
çç( )
piece
çç) .
,
çç. /
initialYPiece
çç0 =
+
çç> ?
property
çç@ H
.
ççH I
PosicitionY
ççI T
)
ççT U
;
ççU V&
AnimationMovePlayerCardX
éé (
(
éé( )
piece
éé) .
,
éé. /
initialXPiece
éé0 =
+
éé> ?
property
éé@ H
.
ééH I
PosicitionX
ééI T
)
ééT U
;
ééU V
}
èè 
}
êê 	
private
íí 
int
íí %
CheckPieceCountInSquare
íí +
(
íí+ ,
Service
íí, 3
.
íí3 4
Player
íí4 :
player
íí; A
)
ííA B
{
ìì 	
int
îî 
cont
îî 
=
îî 
$num
îî 
;
îî 
foreach
ïï 
(
ïï 
var
ïï 
	playerAux
ïï "
in
ïï# %
game
ïï& *
.
ïï* +
Players
ïï+ 2
)
ïï2 3
{
ññ 
if
óó 
(
óó 
player
óó 
.
óó 
Position
óó #
==
óó$ &
	playerAux
óó' 0
.
óó0 1
Position
óó1 9
)
óó9 :
cont
óó; ?
++
óó? A
;
óóA B
}
òò 
return
ôô 
cont
ôô 
;
ôô 
}
öö 	
private
úú 
void
úú 
UpdateDieFace
úú "
(
úú" #
string
úú# )
	imagePath
úú* 3
,
úú3 4
WinImage
úú5 =
die
úú> A
)
úúA B
{
ùù 	
die
ûû 
.
ûû 
Source
ûû 
=
ûû 
ImageManager
ûû %
.
ûû% &
GetSourceImage
ûû& 4
(
ûû4 5
	imagePath
ûû5 >
)
ûû> ?
;
ûû? @
}
üü 	
private
°° 
void
°°  
UpdatePropertyCard
°° '
(
°°' (
Service
°°( /
.
°°/ 0
Property
°°0 8
property
°°9 A
)
°°A B
{
¢¢ 	#
imgPropertyPictureBox
££ !
.
££! "
Source
££" (
=
££) *
ImageManager
££+ 7
.
££7 8
GetSourceImage
££8 F
(
££F G
property
££G O
.
££O P
ImageSource
££P [
)
££[ \
;
££\ ]
lblPropertyTitle
§§ 
.
§§ 
Content
§§ $
=
§§% &
property
§§' /
.
§§/ 0
Name
§§0 4
;
§§4 5
rectPropertyColor
•• 
.
•• 
Fill
•• "
=
••# $
new
••% (
SolidColorBrush
••) 8
(
••8 9
(
••9 :
Color
••: ?
)
••? @
ColorConverter
••@ N
.
••N O
ConvertFromString
••O `
(
••` a
property
••a i
.
••i j
Color
••j o
)
••o p
)
••p q
;
••q r
}
¶¶ 	
private
®® 
void
®® 
UpdateTurnVisual
®® %
(
®®% &
)
®®& '
{
©© 	
lblPlayerTurn
™™ 
.
™™ 
Content
™™ !
=
™™" #
game
™™$ (
.
™™( )
Players
™™) 0
.
™™0 1
Peek
™™1 5
(
™™5 6
)
™™6 7
.
™™7 8
Name
™™8 <
;
™™< =
}
´´ 	
private
≠≠ 
void
≠≠ 
EndTurn
≠≠ 
(
≠≠ 
object
≠≠ #
sender
≠≠$ *
,
≠≠* +
RoutedEventArgs
≠≠, ;
e
≠≠< =
)
≠≠= >
{
ÆÆ 	
butRollingDice
ØØ 
.
ØØ 

Visibility
ØØ %
=
ØØ& '

Visibility
ØØ( 2
.
ØØ2 3
Visible
ØØ3 :
;
ØØ: ;

ButEndTurn
∞∞ 
.
∞∞ 

Visibility
∞∞ !
=
∞∞" #

Visibility
∞∞$ .
.
∞∞. /
	Collapsed
∞∞/ 8
;
∞∞8 9
butRollingDice
±± 
.
±± 
	IsEnabled
±± $
=
±±% &
false
±±' ,
;
±±, -
managerClient
≤≤ 
.
≤≤ 

UpdateQueu
≤≤ $
(
≤≤$ %
game
≤≤% )
.
≤≤) *
IdGame
≤≤* 0
)
≤≤0 1
;
≤≤1 2
}
≥≥ 	
void
µµ '
IGameLogicManagerCallback
µµ &
.
µµ& '
PlayDie
µµ' .
(
µµ. /
int
µµ/ 2
firstDieValue
µµ3 @
,
µµ@ A
int
µµB E
SecondDieValue
µµF T
)
µµT U
{
∂∂ 	
string
∑∑ 
imagePathDieOne
∑∑ "
=
∑∑# $
$"
∑∑% '
$str
∑∑' I
{
∑∑I J
firstDieValue
∑∑J W
}
∑∑W X
$str
∑∑X \
"
∑∑\ ]
;
∑∑] ^
string
∏∏  
imagePathDieSecond
∏∏ %
=
∏∏& '
$"
∏∏( *
$str
∏∏* L
{
∏∏L M
SecondDieValue
∏∏M [
}
∏∏[ \
$str
∏∏\ `
"
∏∏` a
;
∏∏a b
UpdateDieFace
ππ 
(
ππ 
imagePathDieOne
ππ )
,
ππ) *
	imgDieOne
ππ+ 4
)
ππ4 5
;
ππ5 6
UpdateDieFace
∫∫ 
(
∫∫  
imagePathDieSecond
∫∫ ,
,
∫∫, -
imgDieSecond
∫∫. :
)
∫∫: ;
;
∫∫; <
}
ªª 	
public
ΩΩ 
void
ΩΩ $
MovePlayerPieceOnBoard
ΩΩ *
(
ΩΩ* +
Service
ΩΩ+ 2
.
ΩΩ2 3
Player
ΩΩ3 9
player
ΩΩ: @
,
ΩΩ@ A
Service
ΩΩB I
.
ΩΩI J
Property
ΩΩJ R
property
ΩΩS [
)
ΩΩ[ \
{
ææ 	
if
¿¿ 
(
¿¿ 
player
¿¿ 
.
¿¿ 
Position
¿¿ 
>
¿¿  !
$num
¿¿" #
)
¿¿# $
{
¡¡ 
player
¬¬ 
.
¬¬ 
Position
¬¬ 
--
¬¬ !
;
¬¬! "
}
√√ 
if
ƒƒ 
(
ƒƒ 
player
ƒƒ 
.
ƒƒ 
Position
ƒƒ 
<
ƒƒ  !
$num
ƒƒ" $
)
ƒƒ$ %
{
≈≈ &
AnimationMovePlayerCardY
∆∆ (
(
∆∆( )
pieces
∆∆) /
[
∆∆/ 0
player
∆∆0 6
.
∆∆6 7
Token
∆∆7 <
.
∆∆< =

PartNumber
∆∆= G
]
∆∆G H
,
∆∆H I
property
∆∆J R
.
∆∆R S
PosicitionY
∆∆S ^
)
∆∆^ _
;
∆∆_ `&
AnimationMovePlayerCardX
«« (
(
««( )
pieces
««) /
[
««/ 0
player
««0 6
.
««6 7
Token
««7 <
.
««< =

PartNumber
««= G
]
««G H
,
««H I
property
««J R
.
««R S
PosicitionX
««S ^
)
««^ _
;
««_ `
AccommodatePart
»» 
(
»»  
pieces
»»  &
[
»»& '
player
»»' -
.
»»- .
Token
»». 3
.
»»3 4

PartNumber
»»4 >
]
»»> ?
,
»»? @
player
»»A G
,
»»G H
property
»»I Q
)
»»Q R
;
»»R S
}
…… 
else
   
if
   
(
   
player
   
.
   
Position
   $
>
  % &
$num
  ' (
&&
  ) +
player
  , 2
.
  2 3
Position
  3 ;
<
  < =
$num
  > @
)
  @ A
{
ÀÀ &
AnimationMovePlayerCardX
ÃÃ (
(
ÃÃ( )
pieces
ÃÃ) /
[
ÃÃ/ 0
player
ÃÃ0 6
.
ÃÃ6 7
Token
ÃÃ7 <
.
ÃÃ< =

PartNumber
ÃÃ= G
]
ÃÃG H
,
ÃÃH I
$num
ÃÃJ L
)
ÃÃL M
;
ÃÃM N&
AnimationMovePlayerCardY
ÕÕ (
(
ÕÕ( )
pieces
ÕÕ) /
[
ÕÕ/ 0
player
ÕÕ0 6
.
ÕÕ6 7
Token
ÕÕ7 <
.
ÕÕ< =

PartNumber
ÕÕ= G
]
ÕÕG H
,
ÕÕH I
property
ÕÕJ R
.
ÕÕR S
PosicitionY
ÕÕS ^
)
ÕÕ^ _
;
ÕÕ_ `
AccommodatePart
ŒŒ 
(
ŒŒ  
pieces
ŒŒ  &
[
ŒŒ& '
player
ŒŒ' -
.
ŒŒ- .
Token
ŒŒ. 3
.
ŒŒ3 4

PartNumber
ŒŒ4 >
]
ŒŒ> ?
,
ŒŒ? @
player
ŒŒA G
,
ŒŒG H
property
ŒŒI Q
)
ŒŒQ R
;
ŒŒR S
}
œœ 
else
–– 
if
–– 
(
–– 
player
–– 
.
–– 
Position
–– $
>
––% &
$num
––' )
&&
––* ,
player
––- 3
.
––3 4
Position
––4 <
<
––= >
$num
––? A
)
––A B
{
—— &
AnimationMovePlayerCardY
““ (
(
““( )
pieces
““) /
[
““/ 0
player
““0 6
.
““6 7
Token
““7 <
.
““< =

PartNumber
““= G
]
““G H
,
““H I
-
““J K
$num
““K M
)
““M N
;
““N O&
AnimationMovePlayerCardX
”” (
(
””( )
pieces
””) /
[
””/ 0
player
””0 6
.
””6 7
Token
””7 <
.
””< =

PartNumber
””= G
]
””G H
,
””H I
property
””J R
.
””R S
PosicitionX
””S ^
)
””^ _
;
””_ `
AccommodatePart
‘‘ 
(
‘‘  
pieces
‘‘  &
[
‘‘& '
player
‘‘' -
.
‘‘- .
Token
‘‘. 3
.
‘‘3 4

PartNumber
‘‘4 >
]
‘‘> ?
,
‘‘? @
player
‘‘A G
,
‘‘G H
property
‘‘I Q
)
‘‘Q R
;
‘‘R S
}
’’ 
else
÷÷ 
if
÷÷ 
(
÷÷ 
player
÷÷ 
.
÷÷ 
Position
÷÷ $
>
÷÷% &
$num
÷÷' )
&&
÷÷* ,
player
÷÷- 3
.
÷÷3 4
Position
÷÷4 <
<
÷÷= >
$num
÷÷? A
)
÷÷A B
{
◊◊ &
AnimationMovePlayerCardX
ÿÿ (
(
ÿÿ( )
pieces
ÿÿ) /
[
ÿÿ/ 0
player
ÿÿ0 6
.
ÿÿ6 7
Token
ÿÿ7 <
.
ÿÿ< =

PartNumber
ÿÿ= G
]
ÿÿG H
,
ÿÿH I
$num
ÿÿJ M
)
ÿÿM N
;
ÿÿN O&
AnimationMovePlayerCardY
ŸŸ (
(
ŸŸ( )
pieces
ŸŸ) /
[
ŸŸ/ 0
player
ŸŸ0 6
.
ŸŸ6 7
Token
ŸŸ7 <
.
ŸŸ< =

PartNumber
ŸŸ= G
]
ŸŸG H
,
ŸŸH I
property
ŸŸJ R
.
ŸŸR S
PosicitionY
ŸŸS ^
)
ŸŸ^ _
;
ŸŸ_ `
AccommodatePart
⁄⁄ 
(
⁄⁄  
pieces
⁄⁄  &
[
⁄⁄& '
player
⁄⁄' -
.
⁄⁄- .
Token
⁄⁄. 3
.
⁄⁄3 4

PartNumber
⁄⁄4 >
]
⁄⁄> ?
,
⁄⁄? @
player
⁄⁄A G
,
⁄⁄G H
property
⁄⁄I Q
)
⁄⁄Q R
;
⁄⁄R S
}
€€ 
}
‹‹ 	
public
ﬁﬁ 
void
ﬁﬁ 
ShowMyProperties
ﬁﬁ $
(
ﬁﬁ$ %
)
ﬁﬁ% &
{
ﬂﬂ 	
wpMyPropietiers
‡‡ 
.
‡‡ 
Children
‡‡ $
.
‡‡$ %
Clear
‡‡% *
(
‡‡* +
)
‡‡+ ,
;
‡‡, -
ScrollViewer
‚‚ 
scrollViewer
‚‚ %
=
‚‚& '
new
‚‚( +
ScrollViewer
‚‚, 8
{
„„ )
VerticalScrollBarVisibility
‰‰ +
=
‰‰, -!
ScrollBarVisibility
‰‰. A
.
‰‰A B
Auto
‰‰B F
,
‰‰F G+
HorizontalScrollBarVisibility
ÂÂ -
=
ÂÂ. /!
ScrollBarVisibility
ÂÂ0 C
.
ÂÂC D
Disabled
ÂÂD L
,
ÂÂL M
}
ÊÊ 
;
ÊÊ 

StackPanel
ËË !
stackPanelContainer
ËË *
=
ËË+ ,
new
ËË- 0

StackPanel
ËË1 ;
(
ËË; <
)
ËË< =
;
ËË= >
foreach
ÍÍ 
(
ÍÍ 
var
ÍÍ 
property
ÍÍ !
in
ÍÍ" $
Myproperties
ÍÍ% 1
)
ÍÍ1 2
{
ÎÎ 
Grid
ÏÏ 
grdContainer
ÏÏ !
=
ÏÏ" #
new
ÏÏ$ '
Grid
ÏÏ( ,
{
ÌÌ 
Margin
ÓÓ 
=
ÓÓ 
new
ÓÓ  
	Thickness
ÓÓ! *
(
ÓÓ* +
$num
ÓÓ+ ,
,
ÓÓ, -
$num
ÓÓ. /
,
ÓÓ/ 0
$num
ÓÓ1 2
,
ÓÓ2 3
$num
ÓÓ4 5
)
ÓÓ5 6
,
ÓÓ6 7
}
ÔÔ 
;
ÔÔ 
	Rectangle
ÒÒ 
rectBackground
ÒÒ (
=
ÒÒ) *
new
ÒÒ+ .
	Rectangle
ÒÒ/ 8
{
ÚÚ 
Height
ÛÛ 
=
ÛÛ 
$num
ÛÛ 
,
ÛÛ  
Width
ÙÙ 
=
ÙÙ 
$num
ÙÙ 
,
ÙÙ  
Fill
ıı 
=
ıı 
new
ıı 
SolidColorBrush
ıı .
(
ıı. /
Color
ıı/ 4
.
ıı4 5
FromRgb
ıı5 <
(
ıı< =
$num
ıı= ?
,
ıı? @
$num
ııA C
,
ııC D
$num
ııE G
)
ııG H
)
ııH I
,
ııI J
}
ˆˆ 
;
ˆˆ 
grdContainer
˜˜ 
.
˜˜ 
Children
˜˜ %
.
˜˜% &
Add
˜˜& )
(
˜˜) *
rectBackground
˜˜* 8
)
˜˜8 9
;
˜˜9 :
	Rectangle
˘˘ 
rectStreetColor
˘˘ )
=
˘˘* +
new
˘˘, /
	Rectangle
˘˘0 9
{
˙˙ 
Height
˚˚ 
=
˚˚ 
$num
˚˚ 
,
˚˚  
Width
¸¸ 
=
¸¸ 
$num
¸¸ 
,
¸¸ 
Fill
˝˝ 
=
˝˝ 
(
˝˝ 
Brush
˝˝ !
)
˝˝! "
new
˝˝" %
BrushConverter
˝˝& 4
(
˝˝4 5
)
˝˝5 6
.
˝˝6 7
ConvertFromString
˝˝7 H
(
˝˝H I
property
˝˝I Q
.
˝˝Q R
Color
˝˝R W
)
˝˝W X
,
˝˝X Y
Margin
˛˛ 
=
˛˛ 
new
˛˛  
	Thickness
˛˛! *
(
˛˛* +
-
˛˛+ ,
$num
˛˛, /
,
˛˛/ 0
$num
˛˛1 2
,
˛˛2 3
$num
˛˛4 5
,
˛˛5 6
$num
˛˛7 8
)
˛˛8 9
,
˛˛9 :
}
ˇˇ 
;
ˇˇ 
grdContainer
ÄÄ 
.
ÄÄ 
Children
ÄÄ %
.
ÄÄ% &
Add
ÄÄ& )
(
ÄÄ) *
rectStreetColor
ÄÄ* 9
)
ÄÄ9 :
;
ÄÄ: ;
Label
ÇÇ 
lblName
ÇÇ 
=
ÇÇ 
new
ÇÇ  #
Label
ÇÇ$ )
{
ÉÉ 
Content
ÑÑ 
=
ÑÑ 
property
ÑÑ &
.
ÑÑ& '
Name
ÑÑ' +
,
ÑÑ+ ,

Foreground
ÖÖ 
=
ÖÖ  
new
ÖÖ! $
SolidColorBrush
ÖÖ% 4
(
ÖÖ4 5
Color
ÖÖ5 :
.
ÖÖ: ;
FromRgb
ÖÖ; B
(
ÖÖB C
$num
ÖÖC F
,
ÖÖF G
$num
ÖÖH K
,
ÖÖK L
$num
ÖÖM P
)
ÖÖP Q
)
ÖÖQ R
,
ÖÖR S

FontWeight
ÜÜ 
=
ÜÜ  
FontWeights
ÜÜ! ,
.
ÜÜ, -
Bold
ÜÜ- 1
,
ÜÜ1 2
Margin
áá 
=
áá 
new
áá  
	Thickness
áá! *
(
áá* +
$num
áá+ -
,
áá- .
$num
áá/ 0
,
áá0 1
$num
áá2 3
,
áá3 4
$num
áá5 6
)
áá6 7
,
áá7 8
}
àà 
;
àà 
grdContainer
ââ 
.
ââ 
Children
ââ %
.
ââ% &
Add
ââ& )
(
ââ) *
lblName
ââ* 1
)
ââ1 2
;
ââ2 3
Label
ãã 
lblCost
ãã 
=
ãã 
new
ãã  #
Label
ãã$ )
{
åå 
Content
çç 
=
çç 
property
çç &
.
çç& '

BuyingCost
çç' 1
,
çç1 2

Foreground
éé 
=
éé  
new
éé! $
SolidColorBrush
éé% 4
(
éé4 5
Color
éé5 :
.
éé: ;
FromRgb
éé; B
(
ééB C
$num
ééC F
,
ééF G
$num
ééH K
,
ééK L
$num
ééM P
)
ééP Q
)
ééQ R
,
ééR S

FontWeight
èè 
=
èè  
FontWeights
èè! ,
.
èè, -
Bold
èè- 1
,
èè1 2
Margin
êê 
=
êê 
new
êê  
	Thickness
êê! *
(
êê* +
$num
êê+ -
,
êê- .
$num
êê/ 1
,
êê1 2
$num
êê3 4
,
êê4 5
$num
êê6 7
)
êê7 8
,
êê8 9
}
ëë 
;
ëë 
grdContainer
íí 
.
íí 
Children
íí %
.
íí% &
Add
íí& )
(
íí) *
lblCost
íí* 1
)
íí1 2
;
íí2 3
Image
îî 
imgProperty
îî !
=
îî" #
new
îî$ '
Image
îî( -
{
ïï 
Height
ññ 
=
ññ 
$num
ññ 
,
ññ  
Width
óó 
=
óó 
$num
óó 
,
óó 
Source
òò 
=
òò 
ImageManager
òò )
.
òò) *
GetSourceImage
òò* 8
(
òò8 9
property
òò9 A
.
òòA B
ImageSource
òòB M
)
òòM N
,
òòN O
Stretch
ôô 
=
ôô 
Stretch
ôô %
.
ôô% &
UniformToFill
ôô& 3
,
ôô3 4
Margin
öö 
=
öö 
new
öö  
	Thickness
öö! *
(
öö* +
$num
öö+ .
,
öö. /
$num
öö0 1
,
öö1 2
$num
öö3 4
,
öö4 5
$num
öö6 7
)
öö7 8
,
öö8 9
}
õõ 
;
õõ 
grdContainer
ùù 
.
ùù 
Children
ùù %
.
ùù% &
Add
ùù& )
(
ùù) *
imgProperty
ùù* 5
)
ùù5 6
;
ùù6 7
grdContainer
ûû 
.
ûû (
PreviewMouseLeftButtonDown
ûû 7
+=
ûû8 :
(
ûû; <
sender
ûû< B
,
ûûB C
e
ûûD E
)
ûûE F
=>
ûûG I%
ViewDetailsOfMyProperty
ûûJ a
(
ûûa b
sender
ûûb h
,
ûûh i
e
ûûj k
,
ûûk l
property
ûûm u
)
ûûu v
;
ûûv w!
stackPanelContainer
üü #
.
üü# $
Children
üü$ ,
.
üü, -
Add
üü- 0
(
üü0 1
grdContainer
üü1 =
)
üü= >
;
üü> ?
}
†† 
scrollViewer
¢¢ 
.
¢¢ 
Content
¢¢  
=
¢¢! "!
stackPanelContainer
¢¢# 6
;
¢¢6 7
wpMyPropietiers
££ 
.
££ 
Children
££ $
.
££$ %
Add
££% (
(
££( )
scrollViewer
££) 5
)
££5 6
;
££6 7
}
§§ 	
private
ßß 
void
ßß %
ViewDetailsOfMyProperty
ßß ,
(
ßß, -
object
ßß- 3
sender
ßß4 :
,
ßß: ;"
MouseButtonEventArgs
ßß< P
e
ßßQ R
,
ßßR S
Service
ßßT [
.
ßß[ \
Property
ßß\ d

properties
ßße o
)
ßßo p
{
®® 	
ShowProperty
©© 
(
©© 

properties
©© #
)
©©# $
;
©©$ %
butCloseEvento
™™ 
.
™™ 

Visibility
™™ %
=
™™& '

Visibility
™™( 2
.
™™2 3
Visible
™™3 :
;
™™: ;
}
´´ 	
void
≠≠ 
ShowProperty
≠≠ 
(
≠≠ 
Service
≠≠ !
.
≠≠! "
Property
≠≠" *
property
≠≠+ 3
)
≠≠3 4
{
ÆÆ 	!
grdPropertyPurchase
ØØ 
.
ØØ  

Visibility
ØØ  *
=
ØØ+ ,

Visibility
ØØ- 7
.
ØØ7 8
Visible
ØØ8 ?
;
ØØ? @
grdPropertySquare
∞∞ 
.
∞∞ 

Visibility
∞∞ (
=
∞∞) *

Visibility
∞∞+ 5
.
∞∞5 6
Visible
∞∞6 =
;
∞∞= > 
UpdatePropertyCard
±± 
(
±± 
property
±± '
)
±±' (
;
±±( )
}
≤≤ 	
private
¥¥ 
void
¥¥ 
BuyProperty
¥¥  
(
¥¥  !
object
¥¥! '
sender
¥¥( .
,
¥¥. /
RoutedEventArgs
¥¥0 ?
e
¥¥@ A
)
¥¥A B
{
µµ 	
if
∂∂ 
(
∂∂ 
player
∂∂ 
.
∂∂ 
Money
∂∂ 
-
∂∂ 
Myproperties
∂∂ +
[
∂∂+ ,
Myproperties
∂∂, 8
.
∂∂8 9
Count
∂∂9 >
-
∂∂? @
$num
∂∂A B
]
∂∂B C
.
∂∂C D

BuyingCost
∂∂D N
>=
∂∂O Q
$num
∂∂R S
)
∂∂S T
{
∑∑ 
if
ππ 
(
ππ 
cboHotel
ππ 
.
ππ 
SelectedItem
ππ )
!=
ππ* ,
null
ππ- 1
&&
ππ2 4
cboHotel
ππ5 =
.
ππ= >
SelectedItem
ππ> J
.
ππJ K
ToString
ππK S
(
ππS T
)
ππT U
==
ππV X
$str
ππY ]
)
ππ] ^
{
∫∫ 
Myproperties
ªª  
[
ªª  !
Myproperties
ªª! -
.
ªª- .
Count
ªª. 3
-
ªª4 5
$num
ªª6 7
]
ªª7 8
.
ªª8 9
	Situation
ªª9 B
=
ªªC D
Service
ªªE L
.
ªªL M
Property
ªªM U
.
ªªU V 
Property_Situation
ªªV h
.
ªªh i
Hotel
ªªi n
;
ªªn o
player
ºº 
.
ºº 
Money
ºº  
-=
ºº! #
Myproperties
ºº$ 0
[
ºº0 1
Myproperties
ºº1 =
.
ºº= >
Count
ºº> C
-
ººD E
$num
ººF G
]
ººG H
.
ººH I

BuyingCost
ººI S
+
ººT U
$num
ººV Y
;
ººY Z
}
ΩΩ 
else
ææ 
if
ææ 
(
ææ 
cboNumerHouse
ææ &
.
ææ& '
SelectedItem
ææ' 3
!=
ææ4 6
null
ææ7 ;
)
ææ; <
{
øø 
Myproperties
¿¿  
[
¿¿  !
Myproperties
¿¿! -
.
¿¿- .
Count
¿¿. 3
-
¿¿4 5
$num
¿¿6 7
]
¿¿7 8
.
¿¿8 9
NumberHouses
¿¿9 E
=
¿¿F G
(
¿¿H I
int
¿¿I L
)
¿¿L M
cboNumerHouse
¿¿M Z
.
¿¿Z [
SelectedItem
¿¿[ g
;
¿¿g h
Myproperties
¡¡  
[
¡¡  !
Myproperties
¡¡! -
.
¡¡- .
Count
¡¡. 3
-
¡¡4 5
$num
¡¡6 7
]
¡¡7 8
.
¡¡8 9
	Situation
¡¡9 B
=
¡¡C D
Service
¡¡E L
.
¡¡L M
Property
¡¡M U
.
¡¡U V 
Property_Situation
¡¡V h
.
¡¡h i
House
¡¡i n
;
¡¡n o
player
¬¬ 
.
¬¬ 
Money
¬¬  
-=
¬¬! #
Myproperties
¬¬$ 0
[
¬¬0 1
Myproperties
¬¬1 =
.
¬¬= >
Count
¬¬> C
-
¬¬D E
$num
¬¬F G
]
¬¬G H
.
¬¬H I

BuyingCost
¬¬I S
+
¬¬T U
(
¬¬V W
(
¬¬W X
int
¬¬X [
)
¬¬[ \
cboNumerHouse
¬¬\ i
.
¬¬i j
SelectedItem
¬¬j v
*
¬¬w x
$num
¬¬y {
)
¬¬{ |
;
¬¬| }
}
√√ 
else
ƒƒ 
{
≈≈ 
Myproperties
∆∆  
[
∆∆  !
Myproperties
∆∆! -
.
∆∆- .
Count
∆∆. 3
-
∆∆4 5
$num
∆∆6 7
]
∆∆7 8
.
∆∆8 9
	Situation
∆∆9 B
=
∆∆C D
Service
∆∆E L
.
∆∆L M
Property
∆∆M U
.
∆∆U V 
Property_Situation
∆∆V h
.
∆∆h i
Bought
∆∆i o
;
∆∆o p
player
«« 
.
«« 
Money
««  
-=
««! #
Myproperties
««$ 0
[
««0 1
Myproperties
««1 =
.
««= >
Count
««> C
-
««D E
$num
««F G
]
««G H
.
««H I

BuyingCost
««I S
;
««S T
}
»» 
managerClient
…… 
.
…… 
PurchaseProperty
…… .
(
……. /
Myproperties
……/ ;
[
……; <
Myproperties
……< H
.
……H I
Count
……I N
-
……O P
$num
……Q R
]
……R S
,
……S T
player
……U [
,
……[ \
game
……] a
.
……a b
IdGame
……b h
)
……h i
;
……i j
lblPlayerMoney
   
.
   
Content
   &
=
  ' (
$"
  ) +
$str
  + .
{
  . /
player
  / 5
.
  5 6
Money
  6 ;
}
  ; <
$str
  < @
"
  @ A
;
  A B
ShowMyProperties
ÀÀ  
(
ÀÀ  !
)
ÀÀ! "
;
ÀÀ" ##
ClosePropertyPurchase
ÃÃ %
(
ÃÃ% &
)
ÃÃ& '
;
ÃÃ' (
}
ÕÕ 
else
ŒŒ 
{
œœ 

MessageBox
–– 
.
–– 
Show
–– 
(
––  
$str
––  /
,
––/ 0
$str
––1 >
,
––> ?
MessageBoxButton
––@ P
.
––P Q
OK
––Q S
,
––S T
MessageBoxImage
––U d
.
––d e
Information
––e p
)
––p q
;
––q r
}
—— 
}
”” 	
void
’’ #
ClosePropertyPurchase
’’ "
(
’’" #
)
’’# $
{
÷÷ 	!
grdPropertyPurchase
◊◊ 
.
◊◊  

Visibility
◊◊  *
=
◊◊+ ,

Visibility
◊◊- 7
.
◊◊7 8
	Collapsed
◊◊8 A
;
◊◊A B
grdPropertySquare
ÿÿ 
.
ÿÿ 

Visibility
ÿÿ (
=
ÿÿ) *

Visibility
ÿÿ+ 5
.
ÿÿ5 6
	Collapsed
ÿÿ6 ?
;
ÿÿ? @
grdPrisonSquare
ŸŸ 
.
ŸŸ 

Visibility
ŸŸ &
=
ŸŸ' (

Visibility
ŸŸ) 3
.
ŸŸ3 4
	Collapsed
ŸŸ4 =
;
ŸŸ= >
grdEventSquare
⁄⁄ 
.
⁄⁄ 

Visibility
⁄⁄ %
=
⁄⁄& '

Visibility
⁄⁄( 2
.
⁄⁄2 3
	Collapsed
⁄⁄3 <
;
⁄⁄< =
grdAddHouse
€€ 
.
€€ 

Visibility
€€ "
=
€€# $

Visibility
€€% /
.
€€/ 0
	Collapsed
€€0 9
;
€€9 :
grdAddHotel
‹‹ 
.
‹‹ 

Visibility
‹‹ "
=
‹‹# $

Visibility
‹‹% /
.
‹‹/ 0
	Collapsed
‹‹0 9
;
‹‹9 :
butCloseEvento
›› 
.
›› 

Visibility
›› %
=
››& '

Visibility
››( 2
.
››2 3
	Collapsed
››3 <
;
››< =
butRollingDice
ﬁﬁ 
.
ﬁﬁ 
	IsEnabled
ﬁﬁ $
=
ﬁﬁ% &
true
ﬁﬁ' +
;
ﬁﬁ+ ,
}
ﬂﬂ 	
private
·· 
void
·· *
ShowPropertyPurchaseContract
·· 1
(
··1 2
object
··2 8
sender
··9 ?
,
··? @
RoutedEventArgs
··A P
e
··Q R
)
··R S
{
‚‚ 	
grdMenu
„„ 
.
„„ 

Visibility
„„ 
=
„„  

Visibility
„„! +
.
„„+ ,
	Collapsed
„„, 5
;
„„5 6
grdAddHouse
‰‰ 
.
‰‰ 

Visibility
‰‰ "
=
‰‰# $

Visibility
‰‰% /
.
‰‰/ 0
Visible
‰‰0 7
;
‰‰7 8
if
ÂÂ 
(
ÂÂ 
Myproperties
ÂÂ 
[
ÂÂ 
Myproperties
ÂÂ )
.
ÂÂ) *
Count
ÂÂ* /
-
ÂÂ0 1
$num
ÂÂ2 3
]
ÂÂ3 4
.
ÂÂ4 5
NumberHouses
ÂÂ5 A
==
ÂÂB D
$num
ÂÂE F
)
ÂÂF G
{
ÊÊ 
grdAddHotel
ÁÁ 
.
ÁÁ 

Visibility
ÁÁ &
=
ÁÁ' (

Visibility
ÁÁ) 3
.
ÁÁ3 4
Visible
ÁÁ4 ;
;
ÁÁ; <
}
ËË 
}
ÈÈ 	
private
ÎÎ 
void
ÎÎ '
DeclineToPurchaseProperty
ÎÎ .
(
ÎÎ. /
object
ÎÎ/ 5
sender
ÎÎ6 <
,
ÎÎ< =
RoutedEventArgs
ÎÎ> M
e
ÎÎN O
)
ÎÎO P
{
ÏÏ 	#
ClosePropertyPurchase
ÌÌ !
(
ÌÌ! "
)
ÌÌ" #
;
ÌÌ# $
managerClient
ÓÓ 
.
ÓÓ 
StartAuction
ÓÓ &
(
ÓÓ& '
game
ÓÓ' +
.
ÓÓ+ ,
IdGame
ÓÓ, 2
,
ÓÓ2 3
Myproperties
ÓÓ4 @
[
ÓÓ@ A
Myproperties
ÓÓA M
.
ÓÓM N
Count
ÓÓN S
-
ÓÓT U
$num
ÓÓV W
]
ÓÓW X
)
ÓÓX Y
;
ÓÓY Z
}
ÔÔ 	
private
ÒÒ 
void
ÒÒ  
AddHotelToProperty
ÒÒ '
(
ÒÒ' (
object
ÒÒ( .
sender
ÒÒ/ 5
,
ÒÒ5 6'
SelectionChangedEventArgs
ÒÒ7 P
e
ÒÒQ R
)
ÒÒR S
{
ÚÚ 	
if
ÛÛ 
(
ÛÛ 
cboHotel
ÛÛ 
.
ÛÛ 
SelectedItem
ÛÛ %
!=
ÛÛ& (
null
ÛÛ) -
&&
ÛÛ. 0
cboHotel
ÛÛ1 9
.
ÛÛ9 :
SelectedItem
ÛÛ: F
.
ÛÛF G
ToString
ÛÛG O
(
ÛÛO P
)
ÛÛP Q
==
ÛÛR T
$str
ÛÛU Y
)
ÛÛY Z
{
ÙÙ 
cboNumerHouse
ıı 
.
ıı 
	IsEnabled
ıı '
=
ıı( )
false
ıı* /
;
ıı/ 0
cboNumerHouse
ˆˆ 
.
ˆˆ 
SelectedItem
ˆˆ *
=
ˆˆ+ ,
null
ˆˆ- 1
;
ˆˆ1 2
butBuyProperty
˜˜ 
.
˜˜ 

Visibility
˜˜ )
=
˜˜* +

Visibility
˜˜, 6
.
˜˜6 7
Visible
˜˜7 >
;
˜˜> ?
}
¯¯ 
}
˘˘ 	
void
˚˚ '
IGameLogicManagerCallback
˚˚ &
.
˚˚& '
ShowCard
˚˚' /
(
˚˚/ 0
Service
˚˚0 7
.
˚˚7 8
Property
˚˚8 @
property
˚˚A I
)
˚˚I J
{
¸¸ 	!
grdPropertyPurchase
˝˝ 
.
˝˝  

Visibility
˝˝  *
=
˝˝+ ,

Visibility
˝˝- 7
.
˝˝7 8
Visible
˝˝8 ?
;
˝˝? @
if
˛˛ 
(
˛˛ 
property
˛˛ 
.
˛˛ 
Name
˛˛ 
==
˛˛  
$str
˛˛! )
)
˛˛) *
{
ˇˇ 
grdPrisonSquare
ÄÄ 
.
ÄÄ  

Visibility
ÄÄ  *
=
ÄÄ+ ,

Visibility
ÄÄ- 7
.
ÄÄ7 8
Visible
ÄÄ8 ?
;
ÄÄ? @
butCloseEvento
ÅÅ 
.
ÅÅ 

Visibility
ÅÅ )
=
ÅÅ* +

Visibility
ÅÅ, 6
.
ÅÅ6 7
Visible
ÅÅ7 >
;
ÅÅ> ?
player
ÇÇ 
.
ÇÇ 
Jail
ÇÇ 
=
ÇÇ 
true
ÇÇ "
;
ÇÇ" #
}
ÉÉ 
else
ÑÑ 
if
ÑÑ 
(
ÑÑ 
property
ÑÑ 
.
ÑÑ 
Name
ÑÑ "
==
ÑÑ# %
$str
ÑÑ& .
)
ÑÑ. /
{
ÖÖ 
grdEventSquare
ÜÜ 
.
ÜÜ 

Visibility
ÜÜ )
=
ÜÜ* +

Visibility
ÜÜ, 6
.
ÜÜ6 7
Visible
ÜÜ7 >
;
ÜÜ> ?
butCloseEvento
áá 
.
áá 

Visibility
áá )
=
áá* +

Visibility
áá, 6
.
áá6 7
Visible
áá7 >
;
áá> ?
managerClient
àà 
.
àà 
GetActionCard
àà +
(
àà+ ,
game
àà, 0
.
àà0 1
IdGame
àà1 7
)
àà7 8
;
àà8 9
}
ââ 
else
ää 
{
ãã 
grdMenu
åå 
.
åå 

Visibility
åå "
=
åå# $

Visibility
åå% /
.
åå/ 0
Visible
åå0 7
;
åå7 8
grdPropertySquare
çç !
.
çç! "

Visibility
çç" ,
=
çç- .

Visibility
çç/ 9
.
çç9 :
Visible
çç: A
;
ççA B 
UpdatePropertyCard
éé "
(
éé" #
property
éé# +
)
éé+ ,
;
éé, -
Myproperties
èè 
.
èè 
Add
èè  
(
èè  !
property
èè! )
)
èè) *
;
èè* +
}
êê 
}
ëë 	
private
ìì 
void
ìì "
ButCloseEvento_Click
ìì )
(
ìì) *
object
ìì* 0
sender
ìì1 7
,
ìì7 8
RoutedEventArgs
ìì9 H
e
ììI J
)
ììJ K
{
îî 	#
ClosePropertyPurchase
ïï !
(
ïï! "
)
ïï" #
;
ïï# $
}
ññ 	
public
òò 
void
òò 
OpenAuctionWindow
òò %
(
òò% &
Service
òò& -
.
òò- .
Property
òò. 6
property
òò7 ?
)
òò? @
{
ôô 	
btnBuy
öö 
.
öö 

Visibility
öö 
=
öö 

Visibility
öö  *
.
öö* +
	Collapsed
öö+ 4
;
öö4 5

btnDecline
õõ 
.
õõ 

Visibility
õõ !
=
õõ" #

Visibility
õõ$ .
.
õõ. /
	Collapsed
õõ/ 8
;
õõ8 9!
grdPropertyPurchase
úú 
.
úú  

Visibility
úú  *
=
úú+ ,

Visibility
úú- 7
.
úú7 8
Visible
úú8 ?
;
úú? @
grdPropertySquare
ùù 
.
ùù 

Visibility
ùù (
=
ùù) *

Visibility
ùù+ 5
.
ùù5 6
Visible
ùù6 =
;
ùù= >
	BidWindow
ûû 
.
ûû 

Visibility
ûû  
=
ûû! "

Visibility
ûû# -
.
ûû- .
Visible
ûû. 5
;
ûû5 6
LblBid
üü 
.
üü 

Visibility
üü 
=
üü 

Visibility
üü  *
.
üü* +
	Collapsed
üü+ 4
;
üü4 5
txtBid
†† 
.
†† 

Visibility
†† 
=
†† 

Visibility
††  *
.
††* +
	Collapsed
††+ 4
;
††4 5
btnBid
°° 
.
°° 

Visibility
°° 
=
°° 

Visibility
°°  *
.
°°* +
	Collapsed
°°+ 4
;
°°4 5
	btnEndBid
¢¢ 
.
¢¢ 

Visibility
¢¢  
=
¢¢! "

Visibility
¢¢# -
.
¢¢- .
	Collapsed
¢¢. 7
;
¢¢7 8
if
§§ 
(
§§ 
game
§§ 
.
§§ 
Players
§§ 
.
§§ 
Peek
§§ !
(
§§! "
)
§§" #
.
§§# $
IdPlayer
§§$ ,
==
§§- /
player
§§0 6
.
§§6 7
IdPlayer
§§7 ?
)
§§? @
{
•• 
	btnEndBid
¶¶ 
.
¶¶ 

Visibility
¶¶ $
=
¶¶% &

Visibility
¶¶' 1
.
¶¶1 2
Visible
¶¶2 9
;
¶¶9 :
}
ßß 
else
®® 
{
©© 
LblBid
™™ 
.
™™ 

Visibility
™™ !
=
™™" #

Visibility
™™$ .
.
™™. /
Visible
™™/ 6
;
™™6 7
txtBid
´´ 
.
´´ 

Visibility
´´ !
=
´´" #

Visibility
´´$ .
.
´´. /
Visible
´´/ 6
;
´´6 7
btnBid
¨¨ 
.
¨¨ 

Visibility
¨¨ !
=
¨¨" #

Visibility
¨¨$ .
.
¨¨. /
Visible
¨¨/ 6
;
¨¨6 7
}
≠≠  
UpdatePropertyCard
ØØ 
(
ØØ 
property
ØØ '
)
ØØ' (
;
ØØ( )
}
∞∞ 	
private
≤≤ 
void
≤≤ 
EndBid
≤≤ 
(
≤≤ 
object
≤≤ "
sender
≤≤# )
,
≤≤) *
RoutedEventArgs
≤≤+ :
e
≤≤; <
)
≤≤< =
{
≥≥ 	
managerClient
¥¥ 
.
¥¥ 
StopAuction
¥¥ %
(
¥¥% &
this
¥¥& *
.
¥¥* +
game
¥¥+ /
.
¥¥/ 0
IdGame
¥¥0 6
,
¥¥6 7
this
¥¥8 <
.
¥¥< =
LastBid
¥¥= D
.
¥¥D E
IdPlayer
¥¥E M
,
¥¥M N
this
¥¥O S
.
¥¥S T
LastBid
¥¥T [
.
¥¥[ \
BidMoney
¥¥\ d
,
¥¥d e
this
¥¥f j
.
¥¥j k
Myproperties
¥¥k w
[
¥¥w x
this
¥¥x |
.
¥¥| }
Myproperties¥¥} â
.¥¥â ä
Count¥¥ä è
-¥¥ê ë
$num¥¥í ì
]¥¥ì î
)¥¥î ï
;¥¥ï ñ
}
µµ 	
private
∑∑ 
void
∑∑ 
MakeBid
∑∑ 
(
∑∑ 
object
∑∑ #
sender
∑∑$ *
,
∑∑* +
RoutedEventArgs
∑∑, ;
e
∑∑< =
)
∑∑= >
{
∏∏ 	
btnBid
ππ 
.
ππ 
	IsEnabled
ππ 
=
ππ 
false
ππ $
;
ππ$ %
int
∫∫ 
Bid
∫∫ 
=
∫∫ 
int
∫∫ 
.
∫∫ 
Parse
∫∫ 
(
∫∫  
txtBid
∫∫  &
.
∫∫& '
Text
∫∫' +
)
∫∫+ ,
;
∫∫, -
if
ªª 
(
ªª 
Bid
ªª 
>
ªª 
LastBid
ªª 
.
ªª 
BidMoney
ªª &
&&
ªª' )
Bid
ªª* -
<=
ªª. 0
player
ªª1 7
.
ªª7 8
Money
ªª8 =
)
ªª= >
{
ºº 
managerClient
ΩΩ 
.
ΩΩ 
MakeBid
ΩΩ %
(
ΩΩ% &
game
ΩΩ& *
.
ΩΩ* +
IdGame
ΩΩ+ 1
,
ΩΩ1 2
player
ΩΩ3 9
.
ΩΩ9 :
IdPlayer
ΩΩ: B
,
ΩΩB C
Bid
ΩΩD G
)
ΩΩG H
;
ΩΩH I
_
ææ 
=
ææ 
ColdDownBid
ææ 
(
ææ  
)
ææ  !
;
ææ! "
}
øø 
}
¿¿ 	
public
¬¬ 
void
¬¬ 

UpdateBids
¬¬ 
(
¬¬ 
int
¬¬ "
IdPlayer
¬¬# +
,
¬¬+ ,
int
¬¬- 0
Bid
¬¬1 4
)
¬¬4 5
{
√√ 	
Label
ƒƒ 
LblBidObject
ƒƒ 
=
ƒƒ  
new
ƒƒ! $
Label
ƒƒ% *
(
ƒƒ* +
)
ƒƒ+ ,
;
ƒƒ, -
LblBidObject
≈≈ 
.
≈≈ 
Content
≈≈  
=
≈≈! "
$"
≈≈# %
$str
≈≈% (
{
≈≈( )
Bid
≈≈) ,
}
≈≈, -
$str
≈≈- 1
"
≈≈1 2
;
≈≈2 3
Bids
∆∆ 
.
∆∆ 
Children
∆∆ 
.
∆∆ 
Insert
∆∆  
(
∆∆  !
$num
∆∆! "
,
∆∆" #
LblBidObject
∆∆$ 0
)
∆∆0 1
;
∆∆1 2
this
«« 
.
«« 
LastBid
«« 
.
«« 
BidMoney
«« !
=
««" #
Bid
««$ '
;
««' (
if
…… 
(
…… 
game
…… 
.
…… 
Players
…… 
.
…… 
Peek
…… !
(
……! "
)
……" #
.
……# $
IdPlayer
……$ ,
==
……- /
player
……0 6
.
……6 7
IdPlayer
……7 ?
)
……? @
{
   
this
ÀÀ 
.
ÀÀ 
LastBid
ÀÀ 
.
ÀÀ 
IdPlayer
ÀÀ %
=
ÀÀ& '
IdPlayer
ÀÀ( 0
;
ÀÀ0 1
}
ÃÃ 
}
ÕÕ 	
async
œœ 
Task
œœ 
ColdDownBid
œœ 
(
œœ 
)
œœ  
{
–– 	
await
—— 
Task
—— 
.
—— 
Delay
—— 
(
—— 
$num
—— !
)
——! "
;
——" #
await
““ 
Console
““ 
.
““ 
Out
““ 
.
““ 
WriteLineAsync
““ ,
(
““, -
$str
““- A
)
““A B
;
““B C
btnBid
”” 
.
”” 
	IsEnabled
”” 
=
”” 
true
”” #
;
””# $
}
‘‘ 	
public
÷÷ 
void
÷÷ 

EndAuction
÷÷ 
(
÷÷ 
Service
÷÷ &
.
÷÷& '
Property
÷÷' /
property
÷÷0 8
,
÷÷8 9
int
÷÷: =
winner
÷÷> D
,
÷÷D E
int
÷÷F I
	winnerBid
÷÷J S
)
÷÷S T
{
◊◊ 	!
grdPropertyPurchase
ÿÿ 
.
ÿÿ  

Visibility
ÿÿ  *
=
ÿÿ+ ,

Visibility
ÿÿ- 7
.
ÿÿ7 8
	Collapsed
ÿÿ8 A
;
ÿÿA B
grdPropertySquare
ŸŸ 
.
ŸŸ 

Visibility
ŸŸ (
=
ŸŸ) *

Visibility
ŸŸ+ 5
.
ŸŸ5 6
	Collapsed
ŸŸ6 ?
;
ŸŸ? @
this
⁄⁄ 
.
⁄⁄ 
	BidWindow
⁄⁄ 
.
⁄⁄ 

Visibility
⁄⁄ %
=
⁄⁄& '

Visibility
⁄⁄( 2
.
⁄⁄2 3
	Collapsed
⁄⁄3 <
;
⁄⁄< =
if
€€ 
(
€€ 
game
€€ 
.
€€ 
Players
€€ 
.
€€ 
Peek
€€ !
(
€€! "
)
€€" #
.
€€# $
IdPlayer
€€$ ,
==
€€- /
player
€€0 6
.
€€6 7
IdPlayer
€€7 ?
)
€€? @
{
‹‹ 
this
›› 
.
›› 
Myproperties
›› !
.
››! "
RemoveAt
››" *
(
››* +
this
››+ /
.
››/ 0
Myproperties
››0 <
.
››< =
Count
››= B
-
››C D
$num
››E F
)
››F G
;
››G H
}
ﬁﬁ 
else
ﬂﬂ 
if
ﬂﬂ 
(
ﬂﬂ 
player
ﬂﬂ 
.
ﬂﬂ 
IdPlayer
ﬂﬂ $
==
ﬂﬂ% '
winner
ﬂﬂ( .
)
ﬂﬂ. /
{
‡‡ 
this
·· 
.
·· 
Myproperties
·· !
.
··! "
Add
··" %
(
··% &
property
··& .
)
··. /
;
··/ 0
this
‚‚ 
.
‚‚ 
Myproperties
‚‚ !
[
‚‚! "
Myproperties
‚‚" .
.
‚‚. /
Count
‚‚/ 4
-
‚‚5 6
$num
‚‚7 8
]
‚‚8 9
.
‚‚9 :

BuyingCost
‚‚: D
=
‚‚E F
	winnerBid
‚‚G P
;
‚‚P Q
this
„„ 
.
„„ 
player
„„ 
.
„„ 
Money
„„ !
-=
„„" $
	winnerBid
„„% .
;
„„. /
managerClient
‰‰ 
.
‰‰ 
PurchaseProperty
‰‰ .
(
‰‰. /
Myproperties
‰‰/ ;
[
‰‰; <
Myproperties
‰‰< H
.
‰‰H I
Count
‰‰I N
-
‰‰O P
$num
‰‰Q R
]
‰‰R S
,
‰‰S T
player
‰‰U [
,
‰‰[ \
game
‰‰] a
.
‰‰a b
IdGame
‰‰b h
)
‰‰h i
;
‰‰i j
lblPlayerMoney
ÂÂ 
.
ÂÂ 
Content
ÂÂ &
=
ÂÂ' (
$"
ÂÂ) +
$str
ÂÂ+ .
{
ÂÂ. /
player
ÂÂ/ 5
.
ÂÂ5 6
Money
ÂÂ6 ;
}
ÂÂ; <
$str
ÂÂ< @
"
ÂÂ@ A
;
ÂÂA B
ShowMyProperties
ÊÊ  
(
ÊÊ  !
)
ÊÊ! "
;
ÊÊ" #
}
ÁÁ 
}
ËË 	
public
ÍÍ 
void
ÍÍ 
UpdateTurns
ÍÍ 
(
ÍÍ  
Queue
ÍÍ  %
<
ÍÍ% &
Service
ÍÍ& -
.
ÍÍ- .
Player
ÍÍ. 4
>
ÍÍ4 5
turns
ÍÍ6 ;
)
ÍÍ; <
{
ÎÎ 	
game
ÏÏ 
.
ÏÏ 
Players
ÏÏ 
=
ÏÏ 
turns
ÏÏ  
;
ÏÏ  !
UpdateTurnVisual
ÌÌ 
(
ÌÌ 
)
ÌÌ 
;
ÌÌ 
if
ÓÓ 
(
ÓÓ 
game
ÓÓ 
.
ÓÓ 
Players
ÓÓ 
.
ÓÓ 
Peek
ÓÓ !
(
ÓÓ! "
)
ÓÓ" #
.
ÓÓ# $
IdPlayer
ÓÓ$ ,
==
ÓÓ- /
player
ÓÓ0 6
.
ÓÓ6 7
IdPlayer
ÓÓ7 ?
)
ÓÓ? @
{
ÔÔ 
if
 
(
 
!
 
player
 
.
 
Jail
  
)
  !
{
ÒÒ 
this
ÚÚ 
.
ÚÚ 
butRollingDice
ÚÚ '
.
ÚÚ' (
	IsEnabled
ÚÚ( 1
=
ÚÚ2 3
true
ÚÚ4 8
;
ÚÚ8 9
}
ÛÛ 
else
ÙÙ 
{
ıı 
player
ˆˆ 
.
ˆˆ 
Jail
ˆˆ 
=
ˆˆ  !
false
ˆˆ" '
;
ˆˆ' (
managerClient
˜˜ !
.
˜˜! "

UpdateQueu
˜˜" ,
(
˜˜, -
game
˜˜- 1
.
˜˜1 2
IdGame
˜˜2 8
)
˜˜8 9
;
˜˜9 :
}
¯¯ 
}
˘˘ 
}
˙˙ 	
public
¸¸ 
void
¸¸ 
LoadFriends
¸¸ 
(
¸¸  
Queue
¸¸  %
<
¸¸% &
Service
¸¸& -
.
¸¸- .
Player
¸¸. 4
>
¸¸4 5
friends
¸¸6 =
)
¸¸= >
{
˝˝ 	
PlayersInGame
˛˛ 
.
˛˛ 
Children
˛˛ "
.
˛˛" #
Clear
˛˛# (
(
˛˛( )
)
˛˛) *
;
˛˛* +
ScrollViewer
ÄÄ 
scrollViewer
ÄÄ %
=
ÄÄ& '
new
ÄÄ( +
ScrollViewer
ÄÄ, 8
{
ÅÅ )
VerticalScrollBarVisibility
ÇÇ +
=
ÇÇ, -!
ScrollBarVisibility
ÇÇ. A
.
ÇÇA B
Auto
ÇÇB F
,
ÇÇF G+
HorizontalScrollBarVisibility
ÉÉ -
=
ÉÉ. /!
ScrollBarVisibility
ÉÉ0 C
.
ÉÉC D
Disabled
ÉÉD L
,
ÉÉL M
}
ÑÑ 
;
ÑÑ 

StackPanel
ÜÜ !
stackPanelContainer
ÜÜ *
=
ÜÜ+ ,
new
ÜÜ- 0

StackPanel
ÜÜ1 ;
(
ÜÜ; <
)
ÜÜ< =
;
ÜÜ= >
foreach
àà 
(
àà 
var
àà 
friend
àà 
in
àà  "
friends
àà# *
)
àà* +
{
ââ 
Grid
ää 
grdContainer
ää !
=
ää" #
new
ää$ '
Grid
ää( ,
{
ãã 
Margin
åå 
=
åå 
new
åå  
	Thickness
åå! *
(
åå* +
$num
åå+ -
,
åå- .
$num
åå/ 0
,
åå0 1
$num
åå2 3
,
åå3 4
$num
åå5 6
)
åå6 7
,
åå7 8
}
çç 
;
çç 
	Rectangle
èè 
rectBackground
èè (
=
èè) *
new
èè+ .
	Rectangle
èè/ 8
{
êê 
Height
ëë 
=
ëë 
$num
ëë  
,
ëë  !
Width
íí 
=
íí 
$num
íí 
,
íí  
RadiusX
ìì 
=
ìì 
$num
ìì  
,
ìì  !
RadiusY
îî 
=
îî 
$num
îî  
,
îî  !
Fill
ïï 
=
ïï 
new
ïï 
SolidColorBrush
ïï .
(
ïï. /
(
ïï/ 0
Color
ïï0 5
)
ïï5 6
ColorConverter
ïï6 D
.
ïïD E
ConvertFromString
ïïE V
(
ïïV W
$str
ïïW b
)
ïïb c
)
ïïc d
,
ïïd e
Stroke
ññ 
=
ññ 
new
ññ  
SolidColorBrush
ññ! 0
(
ññ0 1
(
ññ1 2
Color
ññ2 7
)
ññ7 8
ColorConverter
ññ8 F
.
ññF G
ConvertFromString
ññG X
(
ññX Y
$str
ññY d
)
ññd e
)
ññe f
,
ññf g
}
óó 
;
óó 
grdContainer
òò 
.
òò 
Children
òò %
.
òò% &
Add
òò& )
(
òò) *
rectBackground
òò* 8
)
òò8 9
;
òò9 :
Ellipse
öö 
ellipse
öö 
=
öö  !
new
öö" %
Ellipse
öö& -
{
õõ 
Height
úú 
=
úú 
$num
úú 
,
úú  
Width
ùù 
=
ùù 
$num
ùù 
,
ùù 
Fill
ûû 
=
ûû 
new
ûû 
SolidColorBrush
ûû .
(
ûû. /
(
ûû/ 0
Color
ûû0 5
)
ûû5 6
ColorConverter
ûû6 D
.
ûûD E
ConvertFromString
ûûE V
(
ûûV W
$str
ûûW b
)
ûûb c
)
ûûc d
,
ûûd e
Stroke
üü 
=
üü 
new
üü  
SolidColorBrush
üü! 0
(
üü0 1
(
üü1 2
Color
üü2 7
)
üü7 8
ColorConverter
üü8 F
.
üüF G
ConvertFromString
üüG X
(
üüX Y
$str
üüY d
)
üüd e
)
üüe f
,
üüf g
Margin
†† 
=
†† 
new
††  
	Thickness
††! *
(
††* +
-
††+ ,
$num
††, /
,
††/ 0
$num
††1 3
,
††3 4
$num
††5 6
,
††6 7
$num
††8 :
)
††: ;
,
††; <
}
°° 
;
°° 
grdContainer
¢¢ 
.
¢¢ 
Children
¢¢ %
.
¢¢% &
Add
¢¢& )
(
¢¢) *
ellipse
¢¢* 1
)
¢¢1 2
;
¢¢2 3
Label
§§ 
lblName
§§ 
=
§§ 
new
§§  #
Label
§§$ )
{
•• 
Content
¶¶ 
=
¶¶ 
friend
¶¶ $
.
¶¶$ %
Name
¶¶% )
,
¶¶) *

Foreground
ßß 
=
ßß  
new
ßß! $
SolidColorBrush
ßß% 4
(
ßß4 5
(
ßß5 6
Color
ßß6 ;
)
ßß; <
ColorConverter
ßß< J
.
ßßJ K
ConvertFromString
ßßK \
(
ßß\ ]
$str
ßß] h
)
ßßh i
)
ßßi j
,
ßßj k

FontWeight
®® 
=
®®  
FontWeights
®®! ,
.
®®, -
Bold
®®- 1
,
®®1 2

FontFamily
©© 
=
©©  
new
©©! $

FontFamily
©©% /
(
©©/ 0
$str
©©0 =
)
©©= >
,
©©> ?
FontSize
™™ 
=
™™ 
$num
™™ !
,
™™! "
Margin
´´ 
=
´´ 
new
´´  
	Thickness
´´! *
(
´´* +
$num
´´+ .
,
´´. /
$num
´´0 2
,
´´2 3
$num
´´4 5
,
´´5 6
$num
´´7 8
)
´´8 9
,
´´9 :
}
¨¨ 
;
¨¨ 
grdContainer
≠≠ 
.
≠≠ 
Children
≠≠ %
.
≠≠% &
Add
≠≠& )
(
≠≠) *
lblName
≠≠* 1
)
≠≠1 2
;
≠≠2 3
Label
ØØ 
lblCost
ØØ 
=
ØØ 
new
ØØ  #
Label
ØØ$ )
{
∞∞ 
Content
±± 
=
±± 
$str
±± "
+
±±# $
friend
±±% +
.
±±+ ,
Money
±±, 1
.
±±1 2
ToString
±±2 :
(
±±: ;
)
±±; <
+
±±= >
$str
±±? D
,
±±D E

Foreground
≤≤ 
=
≤≤  
new
≤≤! $
SolidColorBrush
≤≤% 4
(
≤≤4 5
(
≤≤5 6
Color
≤≤6 ;
)
≤≤; <
ColorConverter
≤≤< J
.
≤≤J K
ConvertFromString
≤≤K \
(
≤≤\ ]
$str
≤≤] h
)
≤≤h i
)
≤≤i j
,
≤≤j k

FontWeight
≥≥ 
=
≥≥  
FontWeights
≥≥! ,
.
≥≥, -
Bold
≥≥- 1
,
≥≥1 2

FontFamily
¥¥ 
=
¥¥  
new
¥¥! $

FontFamily
¥¥% /
(
¥¥/ 0
$str
¥¥0 F
)
¥¥F G
,
¥¥G H
FontSize
µµ 
=
µµ 
$num
µµ !
,
µµ! "
Margin
∂∂ 
=
∂∂ 
new
∂∂  
	Thickness
∂∂! *
(
∂∂* +
$num
∂∂+ .
,
∂∂. /
$num
∂∂0 2
,
∂∂2 3
$num
∂∂4 5
,
∂∂5 6
$num
∂∂7 8
)
∂∂8 9
,
∂∂9 :
}
∑∑ 
;
∑∑ 
grdContainer
∏∏ 
.
∏∏ 
Children
∏∏ %
.
∏∏% &
Add
∏∏& )
(
∏∏) *
lblCost
∏∏* 1
)
∏∏1 2
;
∏∏2 3
Image
∫∫ 
imgProperty
∫∫ !
=
∫∫" #
new
∫∫$ '
Image
∫∫( -
{
ªª 
Height
ºº 
=
ºº 
$num
ºº 
,
ºº  
Width
ΩΩ 
=
ΩΩ 
$num
ΩΩ 
,
ΩΩ 
Source
ææ 
=
ææ 
ImageManager
ææ )
.
ææ) *
GetSourceImage
ææ* 8
(
ææ8 9
friend
ææ9 ?
.
ææ? @
Token
ææ@ E
.
ææE F
ImagenSource
ææF R
)
ææR S
,
ææS T
Stretch
øø 
=
øø 
Stretch
øø %
.
øø% &
Fill
øø& *
,
øø* +
Margin
¿¿ 
=
¿¿ 
new
¿¿  
	Thickness
¿¿! *
(
¿¿* +
-
¿¿+ ,
$num
¿¿, /
,
¿¿/ 0
$num
¿¿1 3
,
¿¿3 4
$num
¿¿5 6
,
¿¿6 7
$num
¿¿8 :
)
¿¿: ;
,
¿¿; <
}
¡¡ 
;
¡¡ 
grdContainer
√√ 
.
√√ 
Children
√√ %
.
√√% &
Add
√√& )
(
√√) *
imgProperty
√√* 5
)
√√5 6
;
√√6 7!
stackPanelContainer
ƒƒ #
.
ƒƒ# $
Children
ƒƒ$ ,
.
ƒƒ, -
Add
ƒƒ- 0
(
ƒƒ0 1
grdContainer
ƒƒ1 =
)
ƒƒ= >
;
ƒƒ> ?
}
≈≈ 
scrollViewer
«« 
.
«« 
Content
««  
=
««! "!
stackPanelContainer
««# 6
;
««6 7
PlayersInGame
»» 
.
»» 
Children
»» "
.
»»" #
Add
»»# &
(
»»& '
scrollViewer
»»' 3
)
»»3 4
;
»»4 5
}
…… 	
public
ÀÀ 
void
ÀÀ 
	ShowEvent
ÀÀ 
(
ÀÀ 
int
ÀÀ !
action
ÀÀ" (
)
ÀÀ( )
{
ÃÃ 	
Console
ÕÕ 
.
ÕÕ 
	WriteLine
ÕÕ 
(
ÕÕ 
action
ÕÕ $
)
ÕÕ$ %
;
ÕÕ% &
}
ŒŒ 	
public
–– 
void
–– 
GoToJail
–– 
(
–– 
)
–– 
{
—— 	
int
““ 
[
““ 
]
““ 
targetPositions
““ !
=
““" #
{
““$ %
$num
““& (
,
““( )
$num
““* ,
,
““, -
$num
““. 0
}
““1 2
;
““2 3
int
”” 
closestPosition
”” 
=
””  !
targetPositions
””" 1
[
””1 2
$num
””2 3
]
””3 4
;
””4 5
foreach
‘‘ 
(
‘‘ 
int
‘‘ 
targetPosition
‘‘ '
in
‘‘( *
targetPositions
‘‘+ :
)
‘‘: ;
{
’’ 
if
÷÷ 
(
÷÷ 
Math
÷÷ 
.
÷÷ 
Abs
÷÷ 
(
÷÷ 
targetPosition
÷÷ +
-
÷÷, -
player
÷÷. 4
.
÷÷4 5
Position
÷÷5 =
)
÷÷= >
<
÷÷? @
Math
÷÷A E
.
÷÷E F
Abs
÷÷F I
(
÷÷I J
closestPosition
÷÷J Y
-
÷÷Z [
player
÷÷\ b
.
÷÷b c
Position
÷÷c k
)
÷÷k l
)
÷÷l m
{
◊◊ 
closestPosition
ÿÿ #
=
ÿÿ$ %
targetPosition
ÿÿ& 4
;
ÿÿ4 5
}
ŸŸ 
}
⁄⁄ 
managerClient
€€ 
.
€€ 

MovePlayer
€€ $
(
€€$ %
game
€€% )
.
€€) *
IdGame
€€* 0
,
€€0 1
(
€€2 3
-
€€3 4
$num
€€4 5
*
€€6 7
player
€€8 >
.
€€> ?
Position
€€? G
-
€€H I
closestPosition
€€J Y
)
€€Y Z
)
€€Z [
;
€€[ \
}
‹‹ 	
public
ﬁﬁ 
void
ﬁﬁ 
PayTaxes
ﬁﬁ 
(
ﬁﬁ 
int
ﬁﬁ  
taxes
ﬁﬁ! &
)
ﬁﬁ& '
{
ﬂﬂ 	
player
‡‡ 
.
‡‡ 
Money
‡‡ 
-=
‡‡ 
taxes
‡‡ !
;
‡‡! "
lblPlayerMoney
·· 
.
·· 
Content
·· "
=
··# $
$"
··% '
$str
··' *
{
··* +
player
··+ 1
.
··1 2
Money
··2 7
}
··7 8
$str
··8 <
"
··< =
;
··= >
}
‚‚ 	
public
‰‰ 
void
‰‰ 
GetPay
‰‰ 
(
‰‰ 
int
‰‰ 
money
‰‰ $
)
‰‰$ %
{
ÂÂ 	
player
ÊÊ 
.
ÊÊ 
Money
ÊÊ 
+=
ÊÊ 
money
ÊÊ !
;
ÊÊ! "
lblPlayerMoney
ÁÁ 
.
ÁÁ 
Content
ÁÁ "
=
ÁÁ# $
$"
ÁÁ% '
$str
ÁÁ' *
{
ÁÁ* +
player
ÁÁ+ 1
.
ÁÁ1 2
Money
ÁÁ2 7
}
ÁÁ7 8
$str
ÁÁ8 <
"
ÁÁ< =
;
ÁÁ= >
}
ËË 	
}
ÈÈ 
}ÍÍ ó0
@D:\Proyectos .NET\UIGameClientTourist\XAMLViews\JoinGame.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
JoinGame !
:" #
Window$ *
{ 
private 
readonly 
int 
IDPlayer %
;% &
private 
readonly 
Service  
.  !$
PlayAsGuestManagerClient! 9
managerClient: G
;G H
private 
readonly 
bool 
	IsInvited '
=( )
false* /
;/ 0
public 
JoinGame 
( 
int 
IdPlayer $
)$ %
{ 	
this 
. 
IDPlayer 
= 
IdPlayer $
;$ %
InitializeComponent 
(  
)  !
;! "
this   
.   
managerClient   
=    
new  ! $
Service  % ,
.  , -$
PlayAsGuestManagerClient  - E
(  E F
)  F G
;  G H
}!! 	
public## 
JoinGame## 
(## 
int## 
IdPlayer## $
,##$ %
bool##& *
	isInvited##+ 4
)##4 5
{$$ 	
this%% 
.%% 
IDPlayer%% 
=%% 
IdPlayer%% $
;%%$ %
this&& 
.&& 
	IsInvited&& 
=&& 
	isInvited&& &
;&&& '
InitializeComponent'' 
(''  
)''  !
;''! "
this(( 
.(( 
managerClient(( 
=((  
new((! $
Service((% ,
.((, -$
PlayAsGuestManagerClient((- E
(((E F
)((F G
;((G H
})) 	
private++ 
void++ 

SearchGame++ 
(++  
object++  &
sender++' -
,++- .
RoutedEventArgs++/ >
e++? @
)++@ A
{,, 	
try-- 
{.. 
if// 
(// 
int// 
.// 
TryParse//  
(//  !
CodeGame//! )
.//) *
Text//* .
,//. /
out//0 3
int//4 7
codeGame//8 @
)//@ A
)//A B
{00 
if11 
(11 
ValidateGame11 $
(11$ %
codeGame11% -
)11- .
)11. /
{22 
OpenLobbyWindow33 '
(33' (
codeGame33( 0
)330 1
;331 2
}44 
}55 
else66 
{77 

MessageBox88 
.88 
Show88 #
(88# $

Properties88$ .
.88. /
	Resources88/ 8
.888 9"
AlertInvalidCode_Label889 O
)88O P
;88P Q
}99 
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 
Console== 
.== 
	WriteLine== !
(==! "
$str==" 9
+==: ;
ex==< >
.==> ?
Message==? F
)==F G
;==G H
}>> 
}?? 	
privateAA 
boolAA 
ValidateGameAA !
(AA! "
intAA" %
codeGameAA& .
)AA. /
{BB 	
boolCC 
resultCC 
=CC 
trueCC 
;CC 
ifEE 
(EE 
managerClientEE 
.EE 
SearchGameByCodeEE .
(EE. /
codeGameEE/ 7
)EE7 8
!=EE9 ;
$numEE< =
)EE= >
{FF 

MessageBoxGG 
.GG 
ShowGG 
(GG  

PropertiesGG  *
.GG* +
	ResourcesGG+ 4
.GG4 5#
ItemNotFoundAlert_LabelGG5 L
)GGL M
;GGM N
resultHH 
=HH 
falseHH 
;HH 
}II 
elseJJ 
ifJJ 
(JJ 
managerClientJJ "
.JJ" #
IsGameOngoingJJ# 0
(JJ0 1
codeGameJJ1 9
)JJ9 :
!=JJ; =
$numJJ> ?
)JJ? @
{KK 

MessageBoxLL 
.LL 
ShowLL 
(LL  

PropertiesLL  *
.LL* +
	ResourcesLL+ 4
.LL4 5%
AlreadyStartedAlert_LabelLL5 N
)LLN O
;LLO P
resultMM 
=MM 
falseMM 
;MM 
}NN 
elseOO 
ifOO 
(OO 
managerClientOO "
.OO" #

IsGameFullOO# -
(OO- .
codeGameOO. 6
)OO6 7
!=OO8 :
$numOO; <
)OO< =
{PP 

MessageBoxQQ 
.QQ 
ShowQQ 
(QQ  

PropertiesQQ  *
.QQ* +
	ResourcesQQ+ 4
.QQ4 5#
FullLineItemAlert_LabelQQ5 L
)QQL M
;QQM N
resultRR 
=RR 
falseRR 
;RR 
}SS 
returnUU 
resultUU 
;UU 
}VV 	
privateXX 
voidXX 
OpenLobbyWindowXX $
(XX$ %
intXX% (
codeGameXX) 1
)XX1 2
{YY 	
LobbyZZ 
lobbyZZ 
;ZZ 
if\\ 
(\\ 
	IsInvited\\ 
)\\ 
{]] 
lobby^^ 
=^^ 
new^^ 
Lobby^^ !
(^^! "
codeGame^^" *
,^^* +
IDPlayer^^, 4
,^^4 5
true^^6 :
)^^: ;
;^^; <
}__ 
else`` 
{aa 
lobbybb 
=bb 
newbb 
Lobbybb !
(bb! "
codeGamebb" *
,bb* +
IDPlayerbb, 4
)bb4 5
;bb5 6
}cc 
thisee 
.ee 
Closeee 
(ee 
)ee 
;ee 
lobbyff 
.ff 
Showff 
(ff 
)ff 
;ff 
}gg 	
}hh 
}ii ≈π
=D:\Proyectos .NET\UIGameClientTourist\XAMLViews\Lobby.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
Lobby 
:  
Window! '
,' ( 
IGameManagerCallback) =
,= >
IFriendsCallback? O
{ 
private 
readonly 
int 
IdPlayer %
;% &
private 
Service 
. 
PlayerClient $
PlayerService% 2
=3 4
new5 8
Service9 @
.@ A
PlayerClientA M
(M N
)N O
;O P
private 
readonly 
Service  
.  !
FriendListClient! 1
friendListService2 C
;C D
private 
Service 
. 
GameManagerClient )
GameManagerClient* ;
;; <
private 
Service 
. 
FriendsClient %
SesionService& 3
;3 4
private 
Service 
. 
Game 
game !
=" #
new$ '
Service( /
./ 0
Game0 4
(4 5
)5 6
;6 7
private   
Service   
.   
Piece   
piecePlayer   )
=  * +
new  , /
Service  0 7
.  7 8
Piece  8 =
(  = >
)  > ?
;  ? @
private!! 

Dictionary!! 
<!! 
string!! !
,!!! "
(!!# $
Border!!$ *
,!!* +
Ellipse!!, 3
)!!3 4
>!!4 5
pieceMappings!!6 C
;!!C D
private"" 
bool"" 
	isInvited"" 
=""  
false""! &
;""& '
public$$ 
Lobby$$ 
($$ 
int$$ 
idGame$$ 
,$$  
int$$! $
idPlayer$$% -
)$$- .
{%% 	
this&& 
.&& 
IdPlayer&& 
=&& 
idPlayer&& $
;&&$ %
InstanceContext'' 
context'' #
=''$ %
new''& )
InstanceContext''* 9
(''9 :
this'': >
)''> ?
;''? @
GameManagerClient(( 
=(( 
new((  #
Service(($ +
.((+ ,
GameManagerClient((, =
(((= >
context((> E
)((E F
;((F G
SesionService)) 
=)) 
new)) 
Service))  '
.))' (
FriendsClient))( 5
())5 6
context))6 =
)))= >
;))> ?
friendListService** 
=** 
new**  #
Service**$ +
.**+ ,
FriendListClient**, <
(**< =
)**= >
;**> ?
SesionService++ 
.++ 
UpdatePlayerSession++ -
(++- .
idPlayer++. 6
)++6 7
;++7 8
InitializeComponent,, 
(,,  
),,  !
;,,! "#
InicializePieceMappings-- #
(--# $
)--$ %
;--% &
InicializeLobby.. 
(.. 
idGame.. "
).." #
;..# $
ShowFriends// 
(// 
idPlayer//  
)//  !
;//! "
}00 	
public22 
Lobby22 
(22 
int22 
idGame22 
,22  
int22! $
idPlayer22% -
,22- .
bool22/ 3
invited224 ;
)22; <
{33 	
this44 
.44 
IdPlayer44 
=44 
idPlayer44 $
;44$ %
this55 
.55 
	isInvited55 
=55 
invited55 $
;55$ %
InstanceContext66 
context66 #
=66$ %
new66& )
InstanceContext66* 9
(669 :
this66: >
)66> ?
;66? @
GameManagerClient77 
=77 
new77  #
Service77$ +
.77+ ,
GameManagerClient77, =
(77= >
context77> E
)77E F
;77F G
SesionService88 
=88 
new88 
Service88  '
.88' (
FriendsClient88( 5
(885 6
context886 =
)88= >
;88> ?
friendListService99 
=99 
new99  #
Service99$ +
.99+ ,
FriendListClient99, <
(99< =
)99= >
;99> ?
SesionService:: 
.:: 
UpdatePlayerSession:: -
(::- .
idPlayer::. 6
)::6 7
;::7 8
InitializeComponent;; 
(;;  
);;  !
;;;! "#
InicializePieceMappings<< #
(<<# $
)<<$ %
;<<% &
InicializeLobby== 
(== 
idGame== "
)==" #
;==# $
ShowFriends>> 
(>> 
idPlayer>>  
)>>  !
;>>! "
}?? 	
privateAA 
voidAA #
InicializePieceMappingsAA ,
(AA, -
)AA- .
{BB 	
pieceMappingsCC 
=CC 
newCC 

DictionaryCC  *
<CC* +
stringCC+ 1
,CC1 2
(CC3 4
BorderCC4 :
,CC: ;
EllipseCC< C
)CCC D
>CCD E
{DD 
{EE 
$strEE !
,EE! "
(EE# $
brdClockPieceEE$ 1
,EE1 2
	ellPiece1EE3 <
)EE< =
}EE> ?
,EE? @
{FF 
$strFF  
,FF  !
(FF" #
brdDuckPieceFF# /
,FF/ 0
	ellPiece2FF1 :
)FF: ;
}FF< =
,FF= >
{GG 
$strGG 
,GG  
(GG! "
brdCarPieceGG" -
,GG- .
	ellPiece3GG/ 8
)GG8 9
}GG: ;
,GG; <
{HH 
$strHH $
,HH$ %
(HH& '
brdPlayDiscPieceHH' 7
,HH7 8
	ellPiece4HH9 B
)HHB C
}HHD E
,HHE F
{II 
$strII 
,II 
(II  
	brdMPieceII  )
,II) *
	ellPiece5II+ 4
)II4 5
}II6 7
,II7 8
{JJ 
$strJJ 
,JJ 
(JJ  !

brdTVPieceJJ! +
,JJ+ ,
	ellPiece6JJ- 6
)JJ6 7
}JJ8 9
}KK 
;KK 
}LL 	
privateNN 
voidNN 
InicializeLobbyNN $
(NN$ %
intNN% (
idGameNN) /
)NN/ 0
{OO 	
ifPP 
(PP 
idGamePP 
==PP 
$numPP 
)PP 
{QQ 

CreateGameRR 
(RR 
)RR 
;RR 
}SS 
elseTT 
{UU 
LoadGameVV 
(VV 
idGameVV 
)VV  
;VV  !
GameManagerClientWW !
.WW! "'
InactivateBeginGameControlsWW" =
(WW= >
idGameWW> D
)WWD E
;WWE F
butStartGameXX 
.XX 

VisibilityXX '
=XX( )

VisibilityXX* 4
.XX4 5
HiddenXX5 ;
;XX; <
}YY 
lblshowCodeGameZZ 
.ZZ 
ContentZZ #
=ZZ$ %
gameZZ& *
.ZZ* +
IdGameZZ+ 1
.ZZ1 2
ToStringZZ2 :
(ZZ: ;
)ZZ; <
;ZZ< =
butGoToLobbyWindow[[ 
.[[ 

Visibility[[ )
=[[* +

Visibility[[, 6
.[[6 7
Hidden[[7 =
;[[= >
Service\\ 
.\\ 
PlayerClient\\  
playerClient\\! -
=\\. /
new\\0 3
Service\\4 ;
.\\; <
PlayerClient\\< H
(\\H I
)\\I J
;\\J K
lblTitleUsername]] 
.]] 
Content]] $
=]]% &
playerClient]]' 3
.]]3 4
GetMyPlayersName]]4 D
(]]D E
IdPlayer]]E M
,]]M N
game]]O S
.]]S T
IdGame]]T Z
)]]Z [
;]][ \
}^^ 	
public`` 
void`` 
ShowFriends`` 
(``  
int``  #
idPlayer``$ ,
)``, -
{aa 	
	wpFriendsbb 
.bb 
Childrenbb 
.bb 
Clearbb $
(bb$ %
)bb% &
;bb& '
foreachcc 
(cc 

FriendListcc 
friendcc  &
incc' )
friendListServicecc* ;
.cc; <

GetFriendscc< F
(ccF G
idPlayerccG O
)ccO P
)ccP Q
{dd 
Borderee 
brdBackgroundee $
=ee% &
newee' *
Borderee+ 1
{ff 
Widthgg 
=gg 
$numgg 
,gg  
Heighthh 
=hh 
$numhh 
,hh  

Backgroundii 
=ii  
Brushesii! (
.ii( )
	LightBlueii) 2
,ii2 3
Marginjj 
=jj 
newjj  
	Thicknessjj! *
(jj* +
$numjj+ ,
)jj, -
,jj- .
}kk 
;kk 
Gridmm 
gridmm 
=mm 
newmm 
Gridmm  $
(mm$ %
)mm% &
;mm& '
Ellipseoo 
ellUserStatusoo %
=oo& '
newoo( +
Ellipseoo, 3
{pp 
Widthqq 
=qq 
$numqq 
,qq 
Heightrr 
=rr 
$numrr 
,rr  
Marginss 
=ss 
newss  
	Thicknessss! *
(ss* +
-ss+ ,
$numss, /
,ss/ 0
$numss1 2
,ss2 3
$numss4 5
,ss5 6
$numss7 8
)ss8 9
,ss9 :
}tt 
;tt 
ifvv 
(vv 
friendvv 
.vv 
IsOnlinevv #
)vv# $
{ww 
ellUserStatusxx !
.xx! "
Fillxx" &
=xx' (
Brushesxx) 0
.xx0 1
Greenxx1 6
;xx6 7
}yy 
elsezz 
{{{ 
ellUserStatus|| !
.||! "
Fill||" &
=||' (
Brushes||) 0
.||0 1
Red||1 4
;||4 5
}}} 
Label 
lblUserName !
=" #
new$ '
Label( -
{
ÄÄ 
Content
ÅÅ 
=
ÅÅ 
friend
ÅÅ $
.
ÅÅ$ %

FriendName
ÅÅ% /
,
ÅÅ/ 0
FontSize
ÇÇ 
=
ÇÇ 
$num
ÇÇ !
,
ÇÇ! "
Margin
ÉÉ 
=
ÉÉ 
new
ÉÉ  
	Thickness
ÉÉ! *
(
ÉÉ* +
$num
ÉÉ+ -
,
ÉÉ- .
$num
ÉÉ/ 0
,
ÉÉ0 1
$num
ÉÉ2 3
,
ÉÉ3 4
$num
ÉÉ5 6
)
ÉÉ6 7
,
ÉÉ7 8
}
ÑÑ 
;
ÑÑ 
grid
ÜÜ 
.
ÜÜ 
Children
ÜÜ 
.
ÜÜ 
Add
ÜÜ !
(
ÜÜ! "
ellUserStatus
ÜÜ" /
)
ÜÜ/ 0
;
ÜÜ0 1
grid
áá 
.
áá 
Children
áá 
.
áá 
Add
áá !
(
áá! "
lblUserName
áá" -
)
áá- .
;
áá. /
brdBackground
àà 
.
àà 
Child
àà #
=
àà$ %
grid
àà& *
;
àà* +
	wpFriends
ââ 
.
ââ 
Children
ââ "
.
ââ" #
Add
ââ# &
(
ââ& '
brdBackground
ââ' 4
)
ââ4 5
;
ââ5 6
}
ää 
}
åå 	
public
éé 
void
éé 
PieceSelected
éé !
(
éé! "
object
éé" (
sender
éé) /
,
éé/ 0"
MouseButtonEventArgs
éé1 E
e
ééF G
)
ééG H
{
èè 	
if
êê 
(
êê 
piecePlayer
êê 
.
êê 
Name
êê  
!=
êê! #
null
êê$ (
)
êê( )
{
ëë 

ResetPiece
íí 
(
íí 
)
íí 
;
íí 
}
ìì 
if
îî 
(
îî 
sender
îî 
is
îî 
Border
îî  
selectedToken
îî! .
&&
îî/ 1
pieceMappings
îî2 ?
.
îî? @
TryGetValue
îî@ K
(
îîK L
selectedToken
îîL Y
.
îîY Z
Name
îîZ ^
,
îî^ _
out
îî` c
var
îîd g
pieces
îîh n
)
îîn o
)
îîo p
{
ïï 
pieces
ññ 
.
ññ 
Item2
ññ 
.
ññ 
Fill
ññ !
=
ññ" #
new
ññ$ '
SolidColorBrush
ññ( 7
(
ññ7 8
Colors
ññ8 >
.
ññ> ?

Aquamarine
ññ? I
)
ññI J
;
ññJ K
piecePlayer
óó 
.
óó 
ImagenSource
óó (
=
óó) *
$"
óó+ -
$str
óó- J
{
óóJ K
selectedToken
óóK X
.
óóX Y
Name
óóY ]
}
óó] ^
$str
óó^ b
"
óób c
;
óóc d
piecePlayer
òò 
.
òò 
Name
òò  
=
òò! "
selectedToken
òò# 0
.
òò0 1
Name
òò1 5
;
òò5 6
GameManagerClient
ôô !
.
ôô! "
SelectedPiece
ôô" /
(
ôô/ 0
game
ôô0 4
,
ôô4 5
piecePlayer
ôô6 A
.
ôôA B
Name
ôôB F
)
ôôF G
;
ôôG H
}
öö  
butGoToLobbyWindow
õõ 
.
õõ 

Visibility
õõ )
=
õõ* +

Visibility
õõ, 6
.
õõ6 7
Visible
õõ7 >
;
õõ> ?
}
úú 	
public
ûû 
void
ûû 

ResetPiece
ûû 
(
ûû 
)
ûû  
{
üü 	
if
†† 
(
†† 
pieceMappings
†† 
.
†† 
TryGetValue
†† )
(
††) *
piecePlayer
††* 5
.
††5 6
Name
††6 :
,
††: ;
out
††< ?
var
††@ C
pieces
††D J
)
††J K
)
††K L
{
°° 
pieces
¢¢ 
.
¢¢ 
Item2
¢¢ 
.
¢¢ 
Fill
¢¢ !
=
¢¢" #
(
¢¢$ %
SolidColorBrush
¢¢% 4
)
¢¢4 5
new
¢¢5 8
BrushConverter
¢¢9 G
(
¢¢G H
)
¢¢H I
.
¢¢I J
ConvertFrom
¢¢J U
(
¢¢U V
$str
¢¢V a
)
¢¢a b
;
¢¢b c
GameManagerClient
££ !
.
££! "
UnSelectedPiece
££" 1
(
££1 2
game
££2 6
,
££6 7
piecePlayer
££8 C
.
££C D
Name
££D H
)
££H I
;
££I J
}
§§ 
}
•• 	
private
ßß 
void
ßß "
GoMainMenuGameWindow
ßß )
(
ßß) *
object
ßß* 0
sender
ßß1 7
,
ßß7 8
RoutedEventArgs
ßß9 H
e
ßßI J
)
ßßJ K
{
®® 	
if
©© 
(
©© 
	isInvited
©© 
)
©© 
{
™™ 
OpenMainWindow
´´ 
(
´´ 
)
´´  
;
´´  !
}
¨¨ 
else
≠≠ 
{
ÆÆ 
OpenMainMenuGame
ØØ  
(
ØØ  !
IdPlayer
ØØ! )
)
ØØ) *
;
ØØ* +
}
∞∞ 
this
≤≤ 
.
≤≤ 
Close
≤≤ 
(
≤≤ 
)
≤≤ 
;
≤≤ 
}
≥≥ 	
private
µµ 
void
µµ 
OpenMainWindow
µµ #
(
µµ# $
)
µµ$ %
{
∂∂ 	

MainWindow
∑∑ 

mainWindow
∑∑ !
=
∑∑" #
new
∑∑$ '

MainWindow
∑∑( 2
(
∑∑2 3
)
∑∑3 4
;
∑∑4 5

mainWindow
∏∏ 
.
∏∏ 
Show
∏∏ 
(
∏∏ 
)
∏∏ 
;
∏∏ 
}
ππ 	
private
ªª 
void
ªª 
OpenMainMenuGame
ªª %
(
ªª% &
int
ªª& )
playerId
ªª* 2
)
ªª2 3
{
ºº 	
MainMenuGame
ΩΩ 
mainMenuGame
ΩΩ %
=
ΩΩ& '
new
ΩΩ( +
MainMenuGame
ΩΩ, 8
(
ΩΩ8 9
playerId
ΩΩ9 A
)
ΩΩA B
;
ΩΩB C
mainMenuGame
ææ 
.
ææ 
Show
ææ 
(
ææ 
)
ææ 
;
ææ  
}
øø 	
private
¬¬ 
void
¬¬ (
NavigateToCreateGameWindow
¬¬ /
(
¬¬/ 0
object
¬¬0 6
sender
¬¬7 =
,
¬¬= >
RoutedEventArgs
¬¬? N
e
¬¬O P
)
¬¬P Q
{
√√ 	
GameManagerClient
ƒƒ 
.
ƒƒ 
UnSelectedPiece
ƒƒ -
(
ƒƒ- .
this
ƒƒ. 2
.
ƒƒ2 3
game
ƒƒ3 7
,
ƒƒ7 8
piecePlayer
ƒƒ9 D
.
ƒƒD E
Name
ƒƒE I
)
ƒƒI J
;
ƒƒJ K
GameManagerClient
≈≈ 
.
≈≈ %
UnCheckReadyToStartGame
≈≈ 5
(
≈≈5 6
game
≈≈6 :
)
≈≈: ;
;
≈≈; < 
butGoToLobbyWindow
∆∆ 
.
∆∆ 

Visibility
∆∆ )
=
∆∆* +

Visibility
∆∆, 6
.
∆∆6 7
Hidden
∆∆7 =
;
∆∆= >
grdLobbyWindow
«« 
.
«« 

Visibility
«« %
=
««& '

Visibility
««( 2
.
««2 3
	Collapsed
««3 <
;
««< =!
grdCreateGameWindow
»» 
.
»»  

Visibility
»»  *
=
»»+ ,

Visibility
»»- 7
.
»»7 8
Visible
»»8 ?
;
»»? @
}
…… 	
private
ÀÀ 
void
ÀÀ #
NavigateToLobbyWindow
ÀÀ *
(
ÀÀ* +
object
ÀÀ+ 1
sender
ÀÀ2 8
,
ÀÀ8 9
RoutedEventArgs
ÀÀ: I
e
ÀÀJ K
)
ÀÀK L
{
ÃÃ 	
imgPlayerCard
ÕÕ 
.
ÕÕ 
Source
ÕÕ  
=
ÕÕ! "
ImageManager
ÕÕ# /
.
ÕÕ/ 0
GetSourceImage
ÕÕ0 >
(
ÕÕ> ?
piecePlayer
ÕÕ? J
.
ÕÕJ K
ImagenSource
ÕÕK W
)
ÕÕW X
;
ÕÕX Y
GameManagerClient
ŒŒ 
.
ŒŒ #
CheckReadyToStartGame
ŒŒ 3
(
ŒŒ3 4
game
ŒŒ4 8
)
ŒŒ8 9
;
ŒŒ9 :
GameManagerClient
œœ 
.
œœ 
SelectedPiece
œœ +
(
œœ+ ,
this
œœ, 0
.
œœ0 1
game
œœ1 5
,
œœ5 6
piecePlayer
œœ7 B
.
œœB C
Name
œœC G
)
œœG H
;
œœH I
grdLobbyWindow
–– 
.
–– 

Visibility
–– %
=
––& '

Visibility
––( 2
.
––2 3
Visible
––3 :
;
––: ;!
grdCreateGameWindow
—— 
.
——  

Visibility
——  *
=
——+ ,

Visibility
——- 7
.
——7 8
	Collapsed
——8 A
;
——A B
GameManagerClient
““ 
.
““ 
UpdatePlayerGame
““ .
(
““. /
this
““/ 3
.
““3 4
game
““4 8
,
““8 9
this
““: >
.
““> ?
IdPlayer
““? G
)
““G H
;
““H I
}
”” 	
private
’’ 
void
’’ 
GoGameWindow
’’ !
(
’’! "
object
’’" (
sender
’’) /
,
’’/ 0
RoutedEventArgs
’’1 @
e
’’A B
)
’’B C
{
÷÷ 	
GameManagerClient
◊◊ 
.
◊◊ 
	StartGame
◊◊ '
(
◊◊' (
this
◊◊( ,
.
◊◊, -
game
◊◊- 1
)
◊◊1 2
;
◊◊2 3
GameManagerClient
ÿÿ 
.
ÿÿ 
InitializeGame
ÿÿ ,
(
ÿÿ, -
this
ÿÿ- 1
.
ÿÿ1 2
game
ÿÿ2 6
)
ÿÿ6 7
;
ÿÿ7 8
}
ŸŸ 	
private
€€ 
int
€€ 
GenerateGameCode
€€ $
(
€€$ %
)
€€% &
{
‹‹ 	
Random
›› 
random
›› 
=
›› 
new
›› 
Random
››  &
(
››& '
)
››' (
;
››( )
int
ﬁﬁ 
GameCode
ﬁﬁ 
=
ﬁﬁ 
random
ﬁﬁ !
.
ﬁﬁ! "
Next
ﬁﬁ" &
(
ﬁﬁ& '
$num
ﬁﬁ' ,
,
ﬁﬁ, -
$num
ﬁﬁ. 3
)
ﬁﬁ3 4
;
ﬁﬁ4 5
return
ﬂﬂ 
GameCode
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
private
‚‚ 
void
‚‚ 

CreateGame
‚‚ 
(
‚‚  
)
‚‚  !
{
„„ 	
Player
‰‰ 
player
‰‰ 
=
‰‰ 
GetPlayerInfo
‰‰ )
(
‰‰) *
IdPlayer
‰‰* 2
)
‰‰2 3
;
‰‰3 4
game
ÂÂ 
.
ÂÂ 
IdGame
ÂÂ 
=
ÂÂ 
GenerateGameCode
ÂÂ *
(
ÂÂ* +
)
ÂÂ+ ,
;
ÂÂ, -
game
ÊÊ 
.
ÊÊ 
Slot
ÊÊ 
=
ÊÊ 
$num
ÊÊ 
;
ÊÊ 
game
ÁÁ 
.
ÁÁ 
Status
ÁÁ 
=
ÁÁ 
Service
ÁÁ !
.
ÁÁ! "
Game
ÁÁ" &
.
ÁÁ& '
Game_Situation
ÁÁ' 5
.
ÁÁ5 6
ByStart
ÁÁ6 =
;
ÁÁ= >
GameManagerClient
ËË 
.
ËË 
AddGame
ËË %
(
ËË% &
game
ËË& *
)
ËË* +
;
ËË+ ,
GameManagerClient
ÈÈ 
.
ÈÈ 
AddPlayerToGame
ÈÈ -
(
ÈÈ- .
game
ÈÈ. 2
.
ÈÈ2 3
IdGame
ÈÈ3 9
,
ÈÈ9 :
player
ÈÈ; A
)
ÈÈA B
;
ÈÈB C
GameManagerClient
ÍÍ 
.
ÍÍ 
UpdatePlayers
ÍÍ +
(
ÍÍ+ ,
this
ÍÍ, 0
.
ÍÍ0 1
game
ÍÍ1 5
.
ÍÍ5 6
IdGame
ÍÍ6 <
)
ÍÍ< =
;
ÍÍ= >
}
ÎÎ 	
private
ÌÌ 
void
ÌÌ 
LoadGame
ÌÌ 
(
ÌÌ 
int
ÌÌ !
idGame
ÌÌ" (
)
ÌÌ( )
{
ÓÓ 	
this
ÔÔ 
.
ÔÔ 
game
ÔÔ 
=
ÔÔ 
PlayerService
ÔÔ %
.
ÔÔ% &
GetGame
ÔÔ& -
(
ÔÔ- .
idGame
ÔÔ. 4
)
ÔÔ4 5
;
ÔÔ5 6
if
 
(
 
	isInvited
 
)
 
{
ÒÒ 
GameManagerClient
ÚÚ !
.
ÚÚ! "
AddGuestToGame
ÚÚ" 0
(
ÚÚ0 1
idGame
ÚÚ1 7
,
ÚÚ7 8
IdPlayer
ÚÚ9 A
)
ÚÚA B
;
ÚÚB C
}
ÛÛ 
else
ÙÙ 
{
ıı 
Player
ˆˆ 
player
ˆˆ 
=
ˆˆ 
GetPlayerInfo
ˆˆ  -
(
ˆˆ- .
IdPlayer
ˆˆ. 6
)
ˆˆ6 7
;
ˆˆ7 8
GameManagerClient
˜˜ !
.
˜˜! "
AddPlayerToGame
˜˜" 1
(
˜˜1 2
idGame
˜˜2 8
,
˜˜8 9
player
˜˜: @
)
˜˜@ A
;
˜˜A B
}
¯¯ 
GameManagerClient
˙˙ 
.
˙˙ 
UpdatePlayers
˙˙ +
(
˙˙+ ,
this
˙˙, 0
.
˙˙0 1
game
˙˙1 5
.
˙˙5 6
IdGame
˙˙6 <
)
˙˙< =
;
˙˙= >
}
˚˚ 	
private
˝˝ 
Service
˝˝ 
.
˝˝ 
Player
˝˝ 
GetPlayerInfo
˝˝ ,
(
˝˝, -
int
˝˝- 0
idPlayer
˝˝1 9
)
˝˝9 :
{
˛˛ 	
Service
ˇˇ 
.
ˇˇ 
PlayerClient
ˇˇ  
playerClient
ˇˇ! -
=
ˇˇ. /
new
ˇˇ0 3
Service
ˇˇ4 ;
.
ˇˇ; <
PlayerClient
ˇˇ< H
(
ˇˇH I
)
ˇˇI J
;
ˇˇJ K
Service
ÄÄ 
.
ÄÄ 
Player
ÄÄ 
player
ÄÄ !
=
ÄÄ" #
new
ÄÄ$ '
Service
ÄÄ( /
.
ÄÄ/ 0
Player
ÄÄ0 6
(
ÄÄ6 7
)
ÄÄ7 8
;
ÄÄ8 9
player
ÅÅ 
.
ÅÅ 
IdPlayer
ÅÅ 
=
ÅÅ 
idPlayer
ÅÅ &
;
ÅÅ& '
player
ÇÇ 
.
ÇÇ 
Name
ÇÇ 
=
ÇÇ 
playerClient
ÇÇ &
.
ÇÇ& '
GetPlayerName
ÇÇ' 4
(
ÇÇ4 5
idPlayer
ÇÇ5 =
)
ÇÇ= >
;
ÇÇ> ?
player
ÉÉ 
.
ÉÉ 

properties
ÉÉ 
=
ÉÉ 
null
ÉÉ  $
;
ÉÉ$ %
player
ÑÑ 
.
ÑÑ 
Position
ÑÑ 
=
ÑÑ 
-
ÑÑ 
$num
ÑÑ  
;
ÑÑ  !
player
ÖÖ 
.
ÖÖ 
Jail
ÖÖ 
=
ÖÖ 
false
ÖÖ 
;
ÖÖ  
player
ÜÜ 
.
ÜÜ 
Loser
ÜÜ 
=
ÜÜ 
false
ÜÜ  
;
ÜÜ  !
player
áá 
.
áá 
Money
áá 
=
áá 
$num
áá  
;
áá  !
player
àà 
.
àà 
Token
àà 
=
àà 
piecePlayer
àà &
;
àà& '
return
ââ 
player
ââ 
;
ââ 
}
ää 	
public
åå 
void
åå 
AddVisualPlayers
åå $
(
åå$ %
)
åå% &
{
çç 	
	wpPlayers
éé 
.
éé 
Children
éé 
.
éé 
Clear
éé $
(
éé$ %
)
éé% &
;
éé& '
foreach
èè 
(
èè 
var
èè 
player
èè 
in
èè  "
game
èè# '
.
èè' (
PlayersInGame
èè( 5
)
èè5 6
{
êê 
Border
ëë 
brdBackground
ëë $
=
ëë% &
new
ëë' *
Border
ëë+ 1
{
íí 
Width
ìì 
=
ìì 
$num
ìì 
,
ìì  
Height
îî 
=
îî 
$num
îî 
,
îî  

Background
ïï 
=
ïï  
Brushes
ïï! (
.
ïï( )
	LightBlue
ïï) 2
,
ïï2 3
Margin
ññ 
=
ññ 
new
ññ  
	Thickness
ññ! *
(
ññ* +
$num
ññ+ ,
)
ññ, -
,
ññ- .
}
óó 
;
óó 
Grid
ôô 
grid
ôô 
=
ôô 
new
ôô 
Grid
ôô  $
(
ôô$ %
)
ôô% &
;
ôô& '
Label
õõ 
lblUserName
õõ !
=
õõ" #
new
õõ$ '
Label
õõ( -
{
úú 
Content
ùù 
=
ùù 
player
ùù $
.
ùù$ %
Name
ùù% )
,
ùù) *
FontSize
ûû 
=
ûû 
$num
ûû !
,
ûû! "
Margin
üü 
=
üü 
new
üü  
	Thickness
üü! *
(
üü* +
$num
üü+ -
,
üü- .
$num
üü/ 0
,
üü0 1
$num
üü2 3
,
üü3 4
$num
üü5 6
)
üü6 7
,
üü7 8
}
†† 
;
†† 
grid
¢¢ 
.
¢¢ 
Children
¢¢ 
.
¢¢ 
Add
¢¢ !
(
¢¢! "
lblUserName
¢¢" -
)
¢¢- .
;
¢¢. /
brdBackground
££ 
.
££ 
Child
££ #
=
££$ %
grid
££& *
;
££* +
	wpPlayers
§§ 
.
§§ 
Children
§§ "
.
§§" #
Add
§§# &
(
§§& '
brdBackground
§§' 4
)
§§4 5
;
§§5 6
}
•• 
}
¶¶ 	
public
®® 
int
®® 

UpdateGame
®® 
(
®® 
)
®® 
{
©© 	
this
™™ 
.
™™ 
game
™™ 
=
™™ 
PlayerService
™™ %
.
™™% &
GetGame
™™& -
(
™™- .
game
™™. 2
.
™™2 3
IdGame
™™3 9
)
™™9 :
;
™™: ;
return
´´ 
game
´´ 
.
´´ 
Players
´´ 
.
´´  
Count
´´  %
;
´´% &
}
¨¨ 	
public
ÆÆ 
void
ÆÆ !
UpdateFriendRequest
ÆÆ '
(
ÆÆ' (
)
ÆÆ( )
{
ØØ 	
return
∞∞ 
;
∞∞ 
}
±± 	
public
≥≥ 
void
≥≥ !
UpdateFriendDisplay
≥≥ '
(
≥≥' (
)
≥≥( )
{
¥¥ 	
ShowFriends
µµ 
(
µµ 
IdPlayer
µµ  
)
µµ  !
;
µµ! "
}
∂∂ 	
public
∏∏ 
void
∏∏ 

GetMessage
∏∏ 
(
∏∏ 
string
∏∏ %
message
∏∏& -
)
∏∏- .
{
ππ 	
Border
∫∫ 
brdBackground
∫∫  
=
∫∫! "
new
∫∫# &
Border
∫∫' -
{
ªª 
Width
ºº 
=
ºº 
double
ºº 
.
ºº 
NaN
ºº "
,
ºº" #
Height
ΩΩ 
=
ΩΩ 
double
ΩΩ 
.
ΩΩ  
NaN
ΩΩ  #
,
ΩΩ# $

Background
ææ 
=
ææ 
Brushes
ææ $
.
ææ$ %
Transparent
ææ% 0
,
ææ0 1
Margin
øø 
=
øø 
new
øø 
	Thickness
øø &
(
øø& '
$num
øø' (
)
øø( )
,
øø) *
}
¿¿ 
;
¿¿ 
Grid
¬¬ 
grid
¬¬ 
=
¬¬ 
new
¬¬ 
Grid
¬¬  
(
¬¬  !
)
¬¬! "
;
¬¬" #
TextBox
ƒƒ 
txtMessageContent
ƒƒ %
=
ƒƒ& '
new
ƒƒ( +
TextBox
ƒƒ, 3
{
≈≈ 
Text
∆∆ 
=
∆∆ 
message
∆∆ 
,
∆∆ 
FontSize
«« 
=
«« 
$num
«« 
,
«« 
Margin
»» 
=
»» 
new
»» 
	Thickness
»» &
(
»»& '
$num
»»' )
,
»») *
$num
»»+ ,
,
»», -
$num
»». /
,
»»/ 0
$num
»»1 2
)
»»2 3
,
»»3 4

IsReadOnly
…… 
=
…… 
true
…… !
,
……! "
TextWrapping
   
=
   
TextWrapping
   +
.
  + ,
Wrap
  , 0
,
  0 1

Background
ÀÀ 
=
ÀÀ 
Brushes
ÀÀ $
.
ÀÀ$ %
Transparent
ÀÀ% 0
,
ÀÀ0 1
BorderBrush
ÃÃ 
=
ÃÃ 
Brushes
ÃÃ %
.
ÃÃ% &
Transparent
ÃÃ& 1
,
ÃÃ1 2
}
ÕÕ 
;
ÕÕ 
grid
œœ 
.
œœ 
Children
œœ 
.
œœ 
Add
œœ 
(
œœ 
txtMessageContent
œœ /
)
œœ/ 0
;
œœ0 1
brdBackground
–– 
.
–– 
Child
–– 
=
––  !
grid
––" &
;
––& '
wpChatMessages
—— 
.
—— 
Children
—— #
.
——# $
Add
——$ '
(
——' (
brdBackground
——( 5
)
——5 6
;
——6 7
}
““ 	
private
‘‘ 
void
‘‘ 
SendMessage
‘‘  
(
‘‘  !
object
‘‘! '
sender
‘‘( .
,
‘‘. /"
MouseButtonEventArgs
‘‘0 D
e
‘‘E F
)
‘‘F G
{
’’ 	
if
÷÷ 
(
÷÷ 
!
÷÷ 
string
÷÷ 
.
÷÷  
IsNullOrWhiteSpace
÷÷ *
(
÷÷* +
Message
÷÷+ 2
.
÷÷2 3
Text
÷÷3 7
)
÷÷7 8
)
÷÷8 9
{
◊◊ 
string
ÿÿ 

PlayerName
ÿÿ !
=
ÿÿ" #
GetPlayerInfo
ÿÿ$ 1
(
ÿÿ1 2
IdPlayer
ÿÿ2 :
)
ÿÿ: ;
.
ÿÿ; <
Name
ÿÿ< @
;
ÿÿ@ A
string
ŸŸ 
message
ŸŸ 
=
ŸŸ  

PlayerName
ŸŸ! +
+
ŸŸ, -
$str
ŸŸ. 2
+
ŸŸ3 4
Message
ŸŸ5 <
.
ŸŸ< =
Text
ŸŸ= A
.
ŸŸA B
Trim
ŸŸB F
(
ŸŸF G
)
ŸŸG H
;
ŸŸH I
GameManagerClient
⁄⁄ !
.
⁄⁄! "
SendMessage
⁄⁄" -
(
⁄⁄- .
game
⁄⁄. 2
.
⁄⁄2 3
IdGame
⁄⁄3 9
,
⁄⁄9 :
message
⁄⁄; B
)
⁄⁄B C
;
⁄⁄C D
Message
€€ 
.
€€ 
Text
€€ 
=
€€ 
$str
€€ !
;
€€! "
}
‹‹ 
}
›› 	
private
ﬂﬂ 
void
ﬂﬂ 
SendMessageEnter
ﬂﬂ %
(
ﬂﬂ% &
object
ﬂﬂ& ,
sender
ﬂﬂ- 3
,
ﬂﬂ3 4
KeyEventArgs
ﬂﬂ5 A
e
ﬂﬂB C
)
ﬂﬂC D
{
‡‡ 	
if
·· 
(
·· 
e
·· 
.
·· 
Key
·· 
==
·· 
Key
·· 
.
·· 
Enter
·· "
&&
··# %
!
··& '
string
··' -
.
··- . 
IsNullOrWhiteSpace
··. @
(
··@ A
Message
··A H
.
··H I
Text
··I M
)
··M N
)
··N O
{
‚‚ 
Service
„„ 
.
„„ 
PlayerClient
„„ $
playerClient
„„% 1
=
„„2 3
new
„„4 7
Service
„„8 ?
.
„„? @
PlayerClient
„„@ L
(
„„L M
)
„„M N
;
„„N O
string
‰‰ 
message
‰‰ 
=
‰‰  
playerClient
‰‰! -
.
‰‰- .
GetMyPlayersName
‰‰. >
(
‰‰> ?
IdPlayer
‰‰? G
,
‰‰G H
game
‰‰I M
.
‰‰M N
IdGame
‰‰N T
)
‰‰T U
+
‰‰V W
$str
‰‰X \
+
‰‰] ^
Message
‰‰_ f
.
‰‰f g
Text
‰‰g k
.
‰‰k l
Trim
‰‰l p
(
‰‰p q
)
‰‰q r
;
‰‰r s
GameManagerClient
ÂÂ !
.
ÂÂ! "
SendMessage
ÂÂ" -
(
ÂÂ- .
game
ÂÂ. 2
.
ÂÂ2 3
IdGame
ÂÂ3 9
,
ÂÂ9 :
message
ÂÂ; B
)
ÂÂB C
;
ÂÂC D
Message
ÊÊ 
.
ÊÊ 
Text
ÊÊ 
=
ÊÊ 
$str
ÊÊ !
;
ÊÊ! "
}
ÁÁ 
}
ËË 	
public
ÍÍ 
void
ÍÍ 

MoveToGame
ÍÍ 
(
ÍÍ 
Service
ÍÍ &
.
ÍÍ& '
Game
ÍÍ' +
game
ÍÍ, 0
)
ÍÍ0 1
{
ÎÎ 	
Game
ÏÏ 

gameWindow
ÏÏ 
=
ÏÏ 
new
ÏÏ !
Game
ÏÏ" &
(
ÏÏ& '
this
ÏÏ' +
.
ÏÏ+ ,
game
ÏÏ, 0
,
ÏÏ0 1
GetPlayerInfo
ÏÏ2 ?
(
ÏÏ? @
IdPlayer
ÏÏ@ H
)
ÏÏH I
)
ÏÏI J
;
ÏÏJ K
this
ÌÌ 
.
ÌÌ 
Close
ÌÌ 
(
ÌÌ 
)
ÌÌ 
;
ÌÌ 

gameWindow
ÓÓ 
.
ÓÓ 
Show
ÓÓ 
(
ÓÓ 
)
ÓÓ 
;
ÓÓ 
}
ÔÔ 	
public
ÒÒ 
void
ÒÒ 
PreparePieces
ÒÒ !
(
ÒÒ! "
Service
ÒÒ" )
.
ÒÒ) *
Game
ÒÒ* .
game
ÒÒ/ 3
,
ÒÒ3 4
Service
ÒÒ5 <
.
ÒÒ< =
Player
ÒÒ= C
[
ÒÒC D
]
ÒÒD E
playersInGame
ÒÒF S
)
ÒÒS T
{
ÚÚ 	
int
ÛÛ 

partNumber
ÛÛ 
=
ÛÛ 
$num
ÛÛ 
;
ÛÛ 
foreach
ÙÙ 
(
ÙÙ 
var
ÙÙ 
player
ÙÙ 
in
ÙÙ  "
playersInGame
ÙÙ# 0
)
ÙÙ0 1
{
ıı 
Game
ˆˆ 
.
ˆˆ 
pieces
ˆˆ 
[
ˆˆ 

partNumber
ˆˆ &
]
ˆˆ& '
.
ˆˆ' (
Source
ˆˆ( .
=
ˆˆ/ 0
ImageManager
ˆˆ1 =
.
ˆˆ= >
GetSourceImage
ˆˆ> L
(
ˆˆL M
player
ˆˆM S
.
ˆˆS T
Token
ˆˆT Y
.
ˆˆY Z
ImagenSource
ˆˆZ f
)
ˆˆf g
;
ˆˆg h
Game
˜˜ 
.
˜˜ 
pieces
˜˜ 
[
˜˜ 

partNumber
˜˜ &
]
˜˜& '
.
˜˜' (

Visibility
˜˜( 2
=
˜˜3 4

Visibility
˜˜5 ?
.
˜˜? @
Visible
˜˜@ G
;
˜˜G H

partNumber
¯¯ 
++
¯¯ 
;
¯¯ 
}
˘˘ 
}
˙˙ 	
public
¸¸ 
void
¸¸ 

BlockPiece
¸¸ 
(
¸¸ 
string
¸¸ %
piece
¸¸& +
)
¸¸+ ,
{
˝˝ 	
if
˛˛ 
(
˛˛ 
pieceMappings
˛˛ 
.
˛˛ 
TryGetValue
˛˛ )
(
˛˛) *
piece
˛˛* /
,
˛˛/ 0
out
˛˛1 4
var
˛˛5 8
pieces
˛˛9 ?
)
˛˛? @
)
˛˛@ A
{
ˇˇ 
pieces
ÄÄ 
.
ÄÄ 
Item1
ÄÄ 
.
ÄÄ 
	IsEnabled
ÄÄ &
=
ÄÄ' (
false
ÄÄ) .
;
ÄÄ. /
pieces
ÅÅ 
.
ÅÅ 
Item2
ÅÅ 
.
ÅÅ 
Fill
ÅÅ !
=
ÅÅ" #
(
ÅÅ$ %
SolidColorBrush
ÅÅ% 4
)
ÅÅ4 5
new
ÅÅ5 8
BrushConverter
ÅÅ9 G
(
ÅÅG H
)
ÅÅH I
.
ÅÅI J
ConvertFrom
ÅÅJ U
(
ÅÅU V
$str
ÅÅV _
)
ÅÅ_ `
;
ÅÅ` a
}
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
void
ÖÖ 
UnblockPiece
ÖÖ  
(
ÖÖ  !
string
ÖÖ! '
piece
ÖÖ( -
)
ÖÖ- .
{
ÜÜ 	
if
áá 
(
áá 
pieceMappings
áá 
.
áá 
TryGetValue
áá )
(
áá) *
piece
áá* /
,
áá/ 0
out
áá1 4
var
áá5 8
pieces
áá9 ?
)
áá? @
)
áá@ A
{
àà 
pieces
ââ 
.
ââ 
Item1
ââ 
.
ââ 
	IsEnabled
ââ &
=
ââ' (
true
ââ) -
;
ââ- .
pieces
ää 
.
ää 
Item2
ää 
.
ää 
Fill
ää !
=
ää" #
(
ää$ %
SolidColorBrush
ää% 4
)
ää4 5
new
ää5 8
BrushConverter
ää9 G
(
ääG H
)
ääH I
.
ääI J
ConvertFrom
ääJ U
(
ääU V
$str
ääV a
)
ääa b
;
ääb c
}
ãã 
}
åå 	
public
éé 
Service
éé 
.
éé 
Piece
éé  
UptdatePiecePlayer
éé /
(
éé/ 0
Service
éé0 7
.
éé7 8
Game
éé8 <
game
éé= A
)
ééA B
{
èè 	
return
êê 
piecePlayer
êê 
;
êê 
}
ëë 	
private
ìì 
void
ìì +
btnCopiarAlPortapapeles_Click
ìì 2
(
ìì2 3
object
ìì3 9
sender
ìì: @
,
ìì@ A"
MouseButtonEventArgs
ììB V
e
ììW X
)
ììX Y
{
îî 	
string
ïï 
contenidoLabel
ïï !
=
ïï" #
lblshowCodeGame
ïï$ 3
.
ïï3 4
Content
ïï4 ;
.
ïï; <
ToString
ïï< D
(
ïïD E
)
ïïE F
;
ïïF G
	Clipboard
ññ 
.
ññ 
SetText
ññ 
(
ññ 
contenidoLabel
ññ ,
)
ññ, -
;
ññ- .

MessageBox
óó 
.
óó 
Show
óó 
(
óó 
$str
óó ?
,
óó? @
$str
óóA H
,
óóH I
MessageBoxButton
óóJ Z
.
óóZ [
OK
óó[ ]
,
óó] ^
MessageBoxImage
óó_ n
.
óón o
Information
óóo z
)
óóz {
;
óó{ |
}
òò 	
public
öö 
void
öö #
EnableStartGameButton
öö )
(
öö) *
)
öö* +
{
õõ 	
butStartGame
úú 
.
úú 
	IsEnabled
úú "
=
úú# $
true
úú% )
;
úú) *
}
ùù 	
public
üü 
void
üü $
DisableStartGameButton
üü *
(
üü* +
)
üü+ ,
{
†† 	
butStartGame
°° 
.
°° 
	IsEnabled
°° "
=
°°# $
false
°°% *
;
°°* +
}
¢¢ 	
}
££ 
}§§ ∆_
DD:\Proyectos .NET\UIGameClientTourist\XAMLViews\MainMenuGame.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
MainMenuGame %
:& '
Window( .
,. /
IFriendsCallback0 @
{ 
private 
int 
idPlayer 
; 
private 
TranslateTransform "(
butProfileTranslateTransform# ?
;? @
private 
TranslateTransform "'
butLogOutTranslateTransform# >
;> ?
Service 
. 
FriendsClient 
SesionContext +
;+ ,
private 
bool 
areButtonsVisible &
=' (
false) .
;. /
public   
MainMenuGame   
(   
int   
idPlayer    (
)  ( )
{!! 	
this"" 
."" 
idPlayer"" 
="" 
idPlayer"" $
;""$ %
InitializeComponent## 
(##  
)##  !
;##! "
InitializeAnimation$$ 
($$  
)$$  !
;$$! "
InstanceContext%% 
context%% #
=%%$ %
new%%& )
InstanceContext%%* 9
(%%9 :
this%%: >
)%%> ?
;%%? @
SesionContext&& 
=&& 
new&& 
Service&&  '
.&&' (
FriendsClient&&( 5
(&&5 6
context&&6 =
)&&= >
;&&> ?
Service'' 
.'' 
PlayerClient''  
playerClient''! -
=''. /
new''0 3
Service''4 ;
.''; <
PlayerClient''< H
(''H I
)''I J
;''J K
lblPlayerName(( 
.(( 
Content(( !
=((" #
playerClient(($ 0
.((0 1
GetPlayerName((1 >
(((> ?
idPlayer((? G
)((G H
;((H I
SesionContext)) 
.)) 
SavePlayerSession)) +
())+ ,
idPlayer)), 4
)))4 5
;))5 6
}** 	
private,, 
void,, 
InitializeAnimation,, (
(,,( )
),,) *
{-- 	(
butProfileTranslateTransform.. (
=..) *
new..+ .
TranslateTransform../ A
(..A B
)..B C
;..C D

butProfile// 
.// 
RenderTransform// &
=//' ((
butProfileTranslateTransform//) E
;//E F'
butLogOutTranslateTransform00 '
=00( )
new00* -
TranslateTransform00. @
(00@ A
)00A B
;00B C
	butLogOut11 
.11 
RenderTransform11 %
=11& ''
butLogOutTranslateTransform11( C
;11C D
}22 	
private44 
void44 
OpenSlidingMenu44 $
(44$ %
object44% +
sender44, 2
,442 3 
MouseButtonEventArgs444 H
e44I J
)44J K
{55 	
if66 
(66 
areButtonsVisible66 !
)66! "
{77 
HideButtons88 
(88 
)88 
;88 
}99 
else:: 
{;; 
ShowButtons<< 
(<< 
)<< 
;<< 
}== 
}>> 	
private@@ 
void@@ 
ShowButtons@@  
(@@  !
)@@! "
{AA 	
DoubleAnimationBB 
moveButProfileBB *
=BB+ ,
newBB- 0
DoubleAnimationBB1 @
(BB@ A
$numBBA B
,BBB C
$numBBD F
,BBF G
TimeSpanBBH P
.BBP Q
FromSecondsBBQ \
(BB\ ]
$numBB] `
)BB` a
)BBa b
;BBb c(
butProfileTranslateTransformCC (
.CC( )
BeginAnimationCC) 7
(CC7 8
TranslateTransformCC8 J
.CCJ K
	YPropertyCCK T
,CCT U
moveButProfileCCV d
)CCd e
;CCe f
DoubleAnimationDD 
moveButLogOutDD )
=DD* +
newDD, /
DoubleAnimationDD0 ?
(DD? @
$numDD@ A
,DDA B
$numDDC F
,DDF G
TimeSpanDDH P
.DDP Q
FromSecondsDDQ \
(DD\ ]
$numDD] `
)DD` a
)DDa b
;DDb c'
butLogOutTranslateTransformEE '
.EE' (
BeginAnimationEE( 6
(EE6 7
TranslateTransformEE7 I
.EEI J
	YPropertyEEJ S
,EES T
moveButLogOutEEU b
)EEb c
;EEc d
areButtonsVisibleFF 
=FF 
trueFF  $
;FF$ %
}GG 	
privateII 
voidII 
HideButtonsII  
(II  !
)II! "
{JJ 	
DoubleAnimationKK 
moveButProfileKK *
=KK+ ,
newKK- 0
DoubleAnimationKK1 @
(KK@ A
$numKKA C
,KKC D
$numKKE F
,KKF G
TimeSpanKKH P
.KKP Q
FromSecondsKKQ \
(KK\ ]
$numKK] `
)KK` a
)KKa b
;KKb c(
butProfileTranslateTransformLL (
.LL( )
BeginAnimationLL) 7
(LL7 8
TranslateTransformLL8 J
.LLJ K
	YPropertyLLK T
,LLT U
moveButProfileLLV d
)LLd e
;LLe f
DoubleAnimationMM 
moveButLogOutMM )
=MM* +
newMM, /
DoubleAnimationMM0 ?
(MM? @
$numMM@ C
,MMC D
$numMME F
,MMF G
TimeSpanMMH P
.MMP Q
FromSecondsMMQ \
(MM\ ]
$numMM] `
)MM` a
)MMa b
;MMb c'
butLogOutTranslateTransformNN '
.NN' (
BeginAnimationNN( 6
(NN6 7
TranslateTransformNN7 I
.NNI J
	YPropertyNNJ S
,NNS T
moveButLogOutNNU b
)NNb c
;NNc d
areButtonsVisibleOO 
=OO 
falseOO  %
;OO% &
}PP 	
privateRR 
voidRR %
GoToLobbyFromMainMenuGameRR .
(RR. /
objectRR/ 5
senderRR6 <
,RR< = 
MouseButtonEventArgsRR> R
eRRS T
)RRT U
{SS 	
LobbyTT 
lobbyWindowTT 
=TT 
newTT  #
LobbyTT$ )
(TT) *
$numTT* +
,TT+ ,
idPlayerTT- 5
)TT5 6
;TT6 7
thisUU 
.UU 
CloseUU 
(UU 
)UU 
;UU 
lobbyWindowVV 
.VV 
ShowVV 
(VV 
)VV 
;VV 
}WW 	
privateYY 
voidYY !
GoToGamesFromMainMenuYY *
(YY* +
objectYY+ 1
senderYY2 8
,YY8 9 
MouseButtonEventArgsYY: N
eYYO P
)YYP Q
{ZZ 	
grdMainMenu[[ 
.[[ 

Visibility[[ "
=[[# $

Visibility[[% /
.[[/ 0
	Collapsed[[0 9
;[[9 :
grdGames\\ 
.\\ 

Visibility\\ 
=\\  !

Visibility\\" ,
.\\, -
Visible\\- 4
;\\4 5
}]] 	
private__ 
void__ '
GoToFriendsFromMainMenuGame__ 0
(__0 1
object__1 7
sender__8 >
,__> ? 
MouseButtonEventArgs__@ T
e__U V
)__V W
{`` 	
Friendsaa 
friendsWindowaa !
=aa" #
newaa$ '
Friendsaa( /
(aa/ 0
idPlayeraa0 8
)aa8 9
;aa9 :
thisbb 
.bb 
Closebb 
(bb 
)bb 
;bb 
friendsWindowcc 
.cc 
Showcc 
(cc 
)cc  
;cc  !
}dd 	
privateff 
voidff +
GoToUserProfileFromMainMenuGameff 4
(ff4 5
objectff5 ;
senderff< B
,ffB C
RoutedEventArgsffD S
effT U
)ffU V
{gg 	
UserProfilehh 
userProfileWindowhh )
=hh* +
newhh, /
UserProfilehh0 ;
(hh; <
idPlayerhh< D
)hhD E
;hhE F
thisii 
.ii 
Closeii 
(ii 
)ii 
;ii 
userProfileWindowjj 
.jj 
Showjj "
(jj" #
)jj# $
;jj$ %
}kk 	
privatemm 
voidmm -
!GoToConfigurationFromMainMenuGamemm 6
(mm6 7
objectmm7 =
sendermm> D
,mmD E 
MouseButtonEventArgsmmF Z
emm[ \
)mm\ ]
{nn 	
Configurationoo 
configurationWindowoo -
=oo. /
newoo0 3
Configurationoo4 A
(ooA B
idPlayerooB J
)ooJ K
;ooK L
thispp 
.pp 
Closepp 
(pp 
)pp 
;pp 
configurationWindowqq 
.qq  
Showqq  $
(qq$ %
)qq% &
;qq& '
}rr 	
privatett 
voidtt (
GoToJoinGameFromMainMenuGamett 1
(tt1 2
objecttt2 8
sendertt9 ?
,tt? @ 
MouseButtonEventArgsttA U
ettV W
)ttW X
{uu 	
JoinGamevv 
joinGameWindowvv #
=vv$ %
newvv& )
JoinGamevv* 2
(vv2 3
idPlayervv3 ;
)vv; <
;vv< =
thisww 
.ww 
Closeww 
(ww 
)ww 
;ww 
joinGameWindowxx 
.xx 
Showxx 
(xx  
)xx  !
;xx! "
}yy 	
private{{ 
void{{ 
LogOut{{ 
({{ 
object{{ "
sender{{# )
,{{) *
RoutedEventArgs{{+ :
e{{; <
){{< =
{|| 	

MainWindow}} 

mainWindow}} !
=}}" #
new}}$ '

MainWindow}}( 2
(}}2 3
)}}3 4
;}}4 5
this~~ 
.~~ 
Close~~ 
(~~ 
)~~ 
;~~ 

mainWindow 
. 
Show 
( 
) 
; 
}
ÄÄ 	
private
ÇÇ 
void
ÇÇ #
GoToMainMenuFromGames
ÇÇ *
(
ÇÇ* +
object
ÇÇ+ 1
sender
ÇÇ2 8
,
ÇÇ8 9"
MouseButtonEventArgs
ÇÇ: N
e
ÇÇO P
)
ÇÇP Q
{
ÉÉ 	
grdMainMenu
ÑÑ 
.
ÑÑ 

Visibility
ÑÑ "
=
ÑÑ# $

Visibility
ÑÑ% /
.
ÑÑ/ 0
Visible
ÑÑ0 7
;
ÑÑ7 8
grdGames
ÖÖ 
.
ÖÖ 

Visibility
ÖÖ 
=
ÖÖ  !

Visibility
ÖÖ" ,
.
ÖÖ, -
	Collapsed
ÖÖ- 6
;
ÖÖ6 7
}
ÜÜ 	
private
àà 
void
àà "
NavigateToMenuWindow
àà )
(
àà) *
object
àà* 0
sender
àà1 7
,
àà7 8"
MouseButtonEventArgs
àà9 M
e
ààN O
)
ààO P
{
ââ 	
grdGames
ää 
.
ää 

Visibility
ää 
=
ää  !

Visibility
ää" ,
.
ää, -
	Collapsed
ää- 6
;
ää6 7
grdMainMenu
ãã 
.
ãã 

Visibility
ãã "
=
ãã# $

Visibility
ãã% /
.
ãã/ 0
Visible
ãã0 7
;
ãã7 8
}
åå 	
public
éé 
void
éé !
UpdateFriendRequest
éé '
(
éé' (
)
éé( )
{
èè 	
throw
êê 
new
êê %
NotImplementedException
êê -
(
êê- .
)
êê. /
;
êê/ 0
}
ëë 	
public
ìì 
void
ìì !
UpdateFriendDisplay
ìì '
(
ìì' (
)
ìì( )
{
îî 	
throw
ïï 
new
ïï %
NotImplementedException
ïï -
(
ïï- .
)
ïï. /
;
ïï/ 0
}
ññ 	
}
óó 
}òò  0
GD:\Proyectos .NET\UIGameClientTourist\XAMLViews\RegisterPlayers.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
RegisterPlayers (
:) *
Window+ 1
{ 
public 
RegisterPlayers 
( 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
RegisterPlayer #
(# $
object$ *
sender+ 1
,1 2
RoutedEventArgs3 B
eC D
)D E
{ 	
string 
message 
; 
try 
{   
if!! 
(!! 
!!! 
string!! 
.!! 
IsNullOrEmpty!! )
(!!) *
txtUserName!!* 5
.!!5 6
Text!!6 :
)!!: ;
&&!!< >
!!!? @
string!!@ F
.!!F G
IsNullOrEmpty!!G T
(!!T U
txtPassword!!U `
.!!` a
Text!!a e
)!!e f
&&!!g i
!!!j k
string!!k q
.!!q r
IsNullOrEmpty!!r 
(	!! Ä
txtEmail
!!Ä à
.
!!à â
Text
!!â ç
)
!!ç é
)
!!é è
{"" 
var## 
	newPlayer## !
=##" #
new##$ '
	PlayerSet##( 1
{##2 3
Nickname##4 <
=##= >
txtUserName##? J
.##J K
Text##K O
,##O P
Password##Q Y
=##Z [
txtPassword##\ g
.##g h
Text##h l
,##l m
eMail##n s
=##t u
txtEmail##v ~
.##~ 
Text	## É
}
##Ñ Ö
;
##Ö Ü
Service$$ 
.$$ 
PlayerClient$$ (
player$$) /
=$$0 1
new$$2 5
Service$$6 =
.$$= >
PlayerClient$$> J
($$J K
)$$K L
;$$L M
player%% 
.%% 
RegisterPlayer%% )
(%%) *
	newPlayer%%* 3
)%%3 4
;%%4 5
CleanFields&& 
(&&  
)&&  !
;&&! "
message'' 
='' 
$str'' ^
;''^ _
})) 
else** 
{++ 
InvalidCampsAlert,, %
(,,% &
),,& '
;,,' (
message-- 
=-- 
$str-- W
;--W X
}.. 
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
Console22 
.22 
	WriteLine22 !
(22! "
$"22" $
$str22$ C
{22C D
ex22D F
.22F G
Message22G N
}22N O
"22O P
)22P Q
;22Q R
message33 
=33 
$str33 g
;33g h
}44 

MessageBox55 
.55 
Show55 
(55 
message55 #
,55# $
$str55% 2
,552 3
MessageBoxButton554 D
.55D E
OK55E G
,55G H
MessageBoxImage55I X
.55X Y
Information55Y d
)55d e
;55e f
}66 	
private88 
void88 (
GoToLoginFromRegisterPlayers88 1
(881 2
object882 8
sender889 ?
,88? @
RoutedEventArgs88A P
e88Q R
)88R S
{99 	

MainWindow:: 
loginWindow:: "
=::# $
new::% (

MainWindow::) 3
(::3 4
)::4 5
;::5 6
this;; 
.;; 
Close;; 
(;; 
);; 
;;; 
loginWindow<< 
.<< 
Show<< 
(<< 
)<< 
;<< 
}== 	
private?? 
void?? 
CleanFields??  
(??  !
)??! "
{@@ 	
txtUserNameAA 
.AA 
TextAA 
=AA 
$strAA !
;AA! "
txtPasswordBB 
.BB 
TextBB 
=BB 
$strBB !
;BB! "
txtEmailCC 
.CC 
TextCC 
=CC 
$strCC 
;CC 
txtConfirmPasswordDD 
.DD 
TextDD #
=DD$ %
$strDD& (
;DD( )
txtConfirmCodeEE 
.EE 
TextEE 
=EE  !
$strEE" $
;EE$ %
}FF 	
privateHH 
voidHH 
InvalidCampsAlertHH &
(HH& '
)HH' (
{II 	
txtUserNameJJ 
.JJ 
BorderBrushJJ #
=JJ$ %
BrushesJJ& -
.JJ- .
RedJJ. 1
;JJ1 2
txtUserNameKK 
.KK 

ForegroundKK "
=KK# $
BrushesKK% ,
.KK, -
RedKK- 0
;KK0 1
txtPasswordLL 
.LL 
BorderBrushLL #
=LL$ %
BrushesLL& -
.LL- .
RedLL. 1
;LL1 2
txtPasswordMM 
.MM 

ForegroundMM "
=MM# $
BrushesMM% ,
.MM, -
RedMM- 0
;MM0 1
txtConfirmPasswordNN 
.NN 
BorderBrushNN *
=NN+ ,
BrushesNN- 4
.NN4 5
RedNN5 8
;NN8 9
txtConfirmPasswordOO 
.OO 

ForegroundOO )
=OO* +
BrushesOO, 3
.OO3 4
RedOO4 7
;OO7 8
txtEmailPP 
.PP 
BorderBrushPP  
=PP! "
BrushesPP# *
.PP* +
RedPP+ .
;PP. /
txtEmailQQ 
.QQ 

ForegroundQQ 
=QQ  !
BrushesQQ" )
.QQ) *
RedQQ* -
;QQ- .
txtConfirmCodeRR 
.RR 
BorderBrushRR &
=RR' (
BrushesRR) 0
.RR0 1
RedRR1 4
;RR4 5
txtConfirmCodeSS 
.SS 

ForegroundSS %
=SS& '
BrushesSS( /
.SS/ 0
RedSS0 3
;SS3 4
}TT 	
}UU 
}VV …
CD:\Proyectos .NET\UIGameClientTourist\XAMLViews\UserProfile.xaml.cs
	namespace 	
UIGameClientTourist
 
. 
	XAMLViews '
{ 
public 

partial 
class 
UserProfile $
:% &
Window' -
{ 
private 
int 
idPlayer 
; 
public 
UserProfile 
( 
int 
idPlayer '
)' (
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
idPlayer 
= 
idPlayer $
;$ %
} 	
private 
void "
NavigateToMainMenuGame +
(+ ,
object, 2
sender3 9
,9 :
RoutedEventArgs; J
eK L
)L M
{ 	
MainMenuGame 

menuWindow #
=$ %
new& )
MainMenuGame* 6
(6 7
idPlayer7 ?
)? @
;@ A
this   
.   
Close   
(   
)   
;   

menuWindow!! 
.!! 
Show!! 
(!! 
)!! 
;!! 
}"" 	
private$$ 
void$$ 
ProfileImage_Click$$ '
($$' (
object$$( .
sender$$/ 5
,$$5 6 
MouseButtonEventArgs$$7 K
e$$L M
)$$M N
{%% 	
Border&& 
selectedBorder&& !
=&&" #
(&&$ %
Border&&% +
)&&+ ,
sender&&, 2
;&&2 3
selectedBorder'' 
.'' 
BorderBrush'' &
=''' (
Brushes'') 0
.''0 1
Green''1 6
;''6 7
Image(( 
selectedImage(( 
=((  !
(((" #
Image((# (
)((( )
selectedBorder(() 7
.((7 8
Child((8 =
;((= >
string)) 
selectedImagePath)) $
=))% &
selectedImage))' 4
.))4 5
Source))5 ;
.)); <
ToString))< D
())D E
)))E F
;))F G
imgUserProfile** 
.** 
Source** !
=**" #
ImageManager**$ 0
.**0 1
GetSourceImage**1 ?
(**? @
selectedImagePath**@ Q
)**Q R
;**S T
}++ 	
},, 
}-- Ù
1D:\Proyectos .NET\UIGameClientTourist\App.xaml.cs
	namespace 	
UIGameClientTourist
 
{ 
public 

partial 
class 
App 
: 
Application *
{ 
	protected 
override 
void 
	OnStartup  )
() *
StartupEventArgs* :
e; <
)< =
{ 	
base 
. 
	OnStartup 
( 
e 
) 
; 
SetAppCulture 
( 
$str !
)! "
;" #
MusicService 
. 
Instance !
.! "
	PlayMusic" +
(+ ,
), -
;- .
} 	
public 
static 
void 
SetAppCulture (
(( )
string) /
cultureCode0 ;
); <
{ 	
try 
{ 
System 
. 
	Threading  
.  !
Thread! '
.' (
CurrentThread( 5
.5 6
CurrentUICulture6 F
=G H
newI L
CultureInfoM X
(X Y
cultureCodeY d
)d e
;e f
} 
catch 
( 
	Exception 
ex 
)  
{ 

MessageBox 
. 
Show 
(  
$"  "
$str" >
{> ?
ex? A
.A B
MessageB I
}I J
"J K
,K L
$strM T
,T U
MessageBoxButtonV f
.f g
OKg i
,i j
MessageBoxImagek z
.z {
Error	{ Ä
)
Ä Å
;
Å Ç
} 
} 	
} 
}   ∂
6D:\Proyectos .NET\UIGameClientTourist\GameLogic\Bid.cs
	namespace 	
UIGameClientTourist
 
. 
	GameLogic '
{ 
public 

class 
Bid 
{ 
public 
int 
IdPlayer 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
BidMoney 
{ 
get !
;! "
set# &
;& '
}( )
} 
}		 ª
?D:\Proyectos .NET\UIGameClientTourist\GameLogic\ImageManager.cs
	namespace 	
UIGameClientTourist
 
. 
	GameLogic '
{ 
public 

class 
ImageManager 
{ 
	protected 
ImageManager 
( 
)  
{! "
}# $
public

 
static

 
BitmapImage

 !
GetSourceImage

" 0
(

0 1
string

1 7
path

8 <
)

< =
{ 	
BitmapImage 
bitmapImage #
=$ %
new& )
BitmapImage* 5
(5 6
new6 9
Uri: =
(= >
path> B
,B C
UriKindD K
.K L
RelativeOrAbsoluteL ^
)^ _
)_ `
;` a
return 
bitmapImage 
; 
} 	
} 
} ä
9D:\Proyectos .NET\UIGameClientTourist\GameLogic\Player.cs
	namespace 	
UIGameClientTourist
 
. 
	GameLogic '
{ 
public 

class 
Player 
{ 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Money 
{ 
get 
; 
set  #
;# $
}% &
public		 
int		 
Position		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
List

 
<

 
Property

 
>

 

Properties

 (
{

) *
get

+ .
;

. /
set

0 3
;

3 4
}

5 6
public 
Player 
( 
string 
name !
,! "
int# &
money' ,
,, -
int. 1
position2 :
): ;
{ 	
Name 
= 
name 
; 
this 
. 
Money 
= 
money 
; 
this 
. 
Position 
= 
position $
;$ %
} 	
public 
Player 
( 
) 
{ 	
} 	
} 
} ê
;D:\Proyectos .NET\UIGameClientTourist\GameLogic\Property.cs
	namespace 	
UIGameClientTourist
 
. 
	GameLogic '
{ 
public 

class 
Property 
{ 
private 
Property 
( 
) 
{ 
} 
public 
enum 
TypeProperty  
{! "
Jail# '
,' (
Service) 0
,0 1
Street2 8
}9 :
public 
enum 
PropertySituation %
{& '
Free( ,
,, -
Bought. 4
,4 5
House6 ;
,; <
Hotel= B
}C D
public

 
Property

 
(

 
string

 
name

 #
,

# $
long

% )

buyingCost

* 4
,

4 5
long

6 :
taxes

; @
,

@ A
int

B E
posX

F J
,

J K
int

L O
posY

P T
,

T U
string

V \
imageSource

] h
,

h i
string

j p
color

q v
)

v w
{ 	
Name 
= 
name 
; 
Type 
= 
TypeProperty 
.  
Street  &
;& '

BuyingCost 
= 

buyingCost #
;# $
Taxes 
= 
taxes 
; 
	Situation 
= 
PropertySituation )
.) *
Free* .
;. /
Owner 
= 
null 
; 
PosicitionX 
= 
posX 
; 
PosicitionY 
= 
posY 
; 
ImageSource 
= 
imageSource %
;% &
Color 
= 
color 
; 
} 	
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
TypeProperty 
Type  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
long 

BuyingCost 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
long 
Taxes 
{ 
get 
;  
set! $
;$ %
}& '
public 
PropertySituation  
	Situation! *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
Player 
Owner 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
PosicitionX 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
PosicitionY 
{  
get! $
;$ %
set& )
;) *
}+ ,
public   
string   
ImageSource   !
{  " #
get  $ '
;  ' (
set  ) ,
;  , -
}  . /
public!! 
string!! 
Color!! 
{!! 
get!! !
;!!! "
set!!# &
;!!& '
}!!( )
}"" 
}## ë7
8D:\Proyectos .NET\UIGameClientTourist\MainWindow.xaml.cs
	namespace 	
UIGameClientTourist
 
{ 
public 

partial 
class 

MainWindow #
:$ %
Window& ,
{ 
public 

MainWindow 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
LogIn 
( 
object !
sender" (
,( )
RoutedEventArgs* 9
e: ;
); <
{ 	
try 
{ 
if 
( 
ValidateInput !
(! "
)" #
)# $
{ 
string 
userName #
=$ %
txtUserName& 1
.1 2
Text2 6
;6 7
string 
password #
=$ %
pwdPassword& 1
.1 2
Password2 :
;: ;
using 
( 
var 
playerClient +
=, -
new. 1
Service2 9
.9 :
PlayerClient: F
(F G
)G H
)H I
{ 
var 
	newPlayer %
=& '
new( +
Service, 3
.3 4
	PlayerSet4 =
{> ?
Nickname@ H
=I J
userNameK S
,S T
PasswordU ]
=^ _
password` h
}i j
;j k
int 
playerID $
=% &
playerClient' 3
.3 4
PlayerSearch4 @
(@ A
	newPlayerA J
)J K
;K L
if   
(   
playerID   $
!=  % '
$num  ( )
)  ) *
{!! 
GoToMenuFromLogin"" -
(""- .
playerID"". 6
)""6 7
;""7 8
}## 
else$$ 
{%% 
InvalidCampsAlert&& -
(&&- .
)&&. /
;&&/ 0

MessageBox'' &
.''& '
Show''' +
(''+ ,
$str'', [
,''[ \
$str''] j
,''j k
MessageBoxButton''l |
.''| }
OK''} 
,	'' Ä
MessageBoxImage
''Å ê
.
''ê ë
Information
''ë ú
)
''ú ù
;
''ù û
}(( 
})) 
}** 
}++ 
catch,, 
(,, 
	Exception,, 
ex,, 
),,  
{-- 
Console.. 
... 
	WriteLine.. !
(..! "
$".." $
$str..$ =
{..= >
ex..> @
...@ A
Message..A H
}..H I
"..I J
)..J K
;..K L

MessageBox// 
.// 
Show// 
(//  
$str//  g
,//g h
$str//i v
,//v w
MessageBoxButton	//x à
.
//à â
OK
//â ã
,
//ã å
MessageBoxImage
//ç ú
.
//ú ù
Information
//ù ®
)
//® ©
;
//© ™
}00 
}11 	
private33 
bool33 
ValidateInput33 "
(33" #
)33# $
{44 	
if55 
(55 
string55 
.55 
IsNullOrEmpty55 $
(55$ %
txtUserName55% 0
.550 1
Text551 5
)555 6
||557 9
string55: @
.55@ A
IsNullOrEmpty55A N
(55N O
pwdPassword55O Z
.55Z [
Password55[ c
)55c d
)55d e
{66 
InvalidCampsAlert77 !
(77! "
)77" #
;77# $

MessageBox88 
.88 
Show88 
(88  
$str88  V
,88V W
$str88X e
,88e f
MessageBoxButton88g w
.88w x
OK88x z
,88z {
MessageBoxImage	88| ã
.
88ã å
Information
88å ó
)
88ó ò
;
88ò ô
return99 
false99 
;99 
}:: 
return<< 
true<< 
;<< 
}== 	
private?? 
void?? 
GoToMenuFromLogin?? &
(??& '
int??' *
playerID??+ 3
)??3 4
{@@ 	
MainMenuGameAA 
mainMenuGameWindowAA +
=AA, -
newAA. 1
MainMenuGameAA2 >
(AA> ?
playerIDAA? G
)AAG H
;AAH I
thisBB 
.BB 
CloseBB 
(BB 
)BB 
;BB 
mainMenuGameWindowCC 
.CC 
ShowCC #
(CC# $
)CC$ %
;CC% &
}DD 	
privateFF 
voidFF '
GoToRegisterPlayerFromLoginFF 0
(FF0 1
objectFF1 7
senderFF8 >
,FF> ?
RoutedEventArgsFF@ O
eFFP Q
)FFQ R
{GG 	
RegisterPlayersHH !
registerPlayersWindowHH 1
=HH2 3
newHH4 7
RegisterPlayersHH8 G
(HHG H
)HHH I
;HHI J
thisII 
.II 
CloseII 
(II 
)II 
;II !
registerPlayersWindowJJ !
.JJ! "
ShowJJ" &
(JJ& '
)JJ' (
;JJ( )
}KK 	
privateMM 
voidMM 
InvalidCampsAlertMM &
(MM& '
)MM' (
{NN 	
txtUserNameOO 
.OO 
BorderBrushOO #
=OO$ %
BrushesOO& -
.OO- .
RedOO. 1
;OO1 2
txtUserNamePP 
.PP 

ForegroundPP "
=PP# $
BrushesPP% ,
.PP, -
RedPP- 0
;PP0 1
pwdPasswordQQ 
.QQ 
BorderBrushQQ #
=QQ$ %
BrushesQQ& -
.QQ- .
RedQQ. 1
;QQ1 2
pwdPasswordRR 
.RR 

ForegroundRR "
=RR# $
BrushesRR% ,
.RR, -
RedRR- 0
;RR0 1
}SS 	
privateUU 
voidUU !
GoToJoinGameFromLoginUU *
(UU* +
objectUU+ 1
senderUU2 8
,UU8 9
RoutedEventArgsUU: I
eUUJ K
)UUK L
{VV 	
RandomWW 
randomWW 
=WW 
newWW 
RandomWW  &
(WW& '
)WW' (
;WW( )
JoinGameXX 
mainMenuGameWindowXX '
=XX( )
newXX* -
JoinGameXX. 6
(XX6 7
randomXX7 =
.XX= >
NextXX> B
(XXB C
$numXXC D
,XXD E
$numXXF P
)XXP Q
,XXQ R
trueXXS W
)XXW X
;XXX Y
thisYY 
.YY 
CloseYY 
(YY 
)YY 
;YY 
mainMenuGameWindowZZ 
.ZZ 
ShowZZ #
(ZZ# $
)ZZ$ %
;ZZ% &
}[[ 	
}\\ 
}]] á
@D:\Proyectos .NET\UIGameClientTourist\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str .
). /
]/ 0
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[   
assembly   	
:  	 

	ThemeInfo   
(   &
ResourceDictionaryLocation!! 
.!! 
None!! #
,!!# $&
ResourceDictionaryLocation$$ 
.$$ 
SourceAssembly$$ -
)'' 
]'' 
[44 
assembly44 	
:44	 

AssemblyVersion44 
(44 
$str44 $
)44$ %
]44% &
[55 
assembly55 	
:55	 

AssemblyFileVersion55 
(55 
$str55 (
)55( )
]55) *